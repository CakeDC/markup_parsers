{ 
  "Description":{
      "input": "Tests taken from https://github.com/netcarver/textile and converted from Yaml to Json",
      "expect": "tests to pass",
      "special": "skip"
  },
  "Dimensions": {
    "input": "[1/2] x [1/4] and (1/2)\" x [1/4]\" and (1/2)' x (1/4)'\n\n(2 x 10) X (3 / 4) x (200 + 64)\n\n1 x 1 = 1\n\n1 x1 = 1\n\n1x 1 = 1\n\n1x1 = 1\n\n1 X 1 = 1\n\n1 X1 = 1\n\n1X 1 = 1\n\n1X1 = 1\n\nWhat is 1 x 1?\n\nWhat is 1x1?\n\nWhat is 1 X 1?\n\nWhat is 1X1?\n\n1 x 2 x 3 = 6\n\n1x2x3=6\n\n1x2 x 1x3 = 6\n\n2' x 2' = 4 sqft.\n\n2'x 2' = 4 sqft.\n\n2' x2' = 4 sqft.\n\n2'x2' = 4 sqft.\n\n2' X 2' = 4 sqft.\n\n2'X 2' = 4 sqft.\n\n2' X2' = 4 sqft.\n\n2'X2' = 4 sqft.\n\n2\" x 2\" = 4 sqin.\n\n2\"x 2\" = 4 sqin.\n\n2\" x2\" = 4 sqin.\n\n2\"x2\" = 4 sqin.\n\n2\" X 2\" = 4 sqin.\n\n2\"X 2\" = 4 sqin.\n\n2\" X2\" = 4 sqin.\n\n2\"X2\" = 4in[^2^].\n\nWhat is 1.2 x 3.5?\n\nWhat is .2 x .5?\n\nWhat is 1.2x3.5?\n\nWhat is .2x.5?\n\nWhat is 1.2' x3.5'?\n\nWhat is .2\"x .5\"?\n\n1 x $10.00 x -\u00a3 1.23 x \u00a520,000 x -\u00a4120.00 x \u0e3f1,000,000 x -\u20ac110,00\n", 
    "expect": "<p>&#189; &#215; &#188; and &#189;&#8221; &#215; &#188;&#8221; and &#189;&#8217; &#215; &#188;&#8217;</p>\n\n<p>(2 &#215; 10) &#215; (3 / 4) &#215; (200 + 64)</p>\n\n<p>1 &#215; 1 = 1</p>\n\n<p>1 &#215;1 = 1</p>\n\n<p>1&#215; 1 = 1</p>\n\n<p>1&#215;1 = 1</p>\n\n<p>1 &#215; 1 = 1</p>\n\n<p>1 &#215;1 = 1</p>\n\n<p>1&#215; 1 = 1</p>\n\n<p>1&#215;1 = 1</p>\n\n<p>What is 1 &#215; 1?</p>\n\n<p>What is 1&#215;1?</p>\n\n<p>What is 1 &#215; 1?</p>\n\n<p>What is 1&#215;1?</p>\n\n<p>1 &#215; 2 &#215; 3 = 6</p>\n\n<p>1&#215;2&#215;3=6</p>\n\n<p>1&#215;2 &#215; 1&#215;3 = 6</p>\n\n<p>2&#8217; &#215; 2&#8217; = 4 sqft.</p>\n\n<p>2&#8217;&#215; 2&#8217; = 4 sqft.</p>\n\n<p>2&#8217; &#215;2&#8217; = 4 sqft.</p>\n\n<p>2&#8217;&#215;2&#8217; = 4 sqft.</p>\n\n<p>2&#8217; &#215; 2&#8217; = 4 sqft.</p>\n\n<p>2&#8217;&#215; 2&#8217; = 4 sqft.</p>\n\n<p>2&#8217; &#215;2&#8217; = 4 sqft.</p>\n\n<p>2&#8217;&#215;2&#8217; = 4 sqft.</p>\n\n<p>2&#8221; &#215; 2&#8221; = 4 sqin.</p>\n\n<p>2&#8221;&#215; 2&#8221; = 4 sqin.</p>\n\n<p>2&#8221; &#215;2&#8221; = 4 sqin.</p>\n\n<p>2&#8221;&#215;2&#8221; = 4 sqin.</p>\n\n<p>2&#8221; &#215; 2&#8221; = 4 sqin.</p>\n\n<p>2&#8221;&#215; 2&#8221; = 4 sqin.</p>\n\n<p>2&#8221; &#215;2&#8221; = 4 sqin.</p>\n\n<p>2&#8221;&#215;2&#8221; = 4in<sup>2</sup>.</p>\n\n<p>What is 1.2 &#215; 3.5?</p>\n\n<p>What is .2 &#215; .5?</p>\n\n<p>What is 1.2&#215;3.5?</p>\n\n<p>What is .2&#215;.5?</p>\n\n<p>What is 1.2&#8217; &#215;3.5&#8217;?</p>\n\n<p>What is .2&#8221;&#215; .5&#8221;?</p>\n\n<p>1 &#215; $10.00 &#215; -\u00a3 1.23 &#215; \u00a520,000 &#215; -\u00a4120.00 &#215; \u0e3f1,000,000 &#215; -\u20ac110,00</p>"
  }, 
  "Relative Images (default)": {
    "notes" : "Doesn't work in CakePHP",
    "input": "!10x10.gif!\n", 
    "expect": "<p><img alt=\"\" src=\"10x10.gif\" /></p>"
  }, 
  "Tight tables...": {
    "input": "Tables containing other textile elements.\n\n|.244 x -.123 = ?|\n\n|@Don't _touch_ this!@| @Don't _touch_ this!@ |\n|==Don't _touch_ this!==| ==Don't _touch_ this!== |\n|You _can_ touch this!| You _can_ touch this! |\n|_touch_ this!| _touch_ this! |\n|^superscripted^| ^superscripted^ |\n|~subscripted~| ~subscripted~ |\n|*strong*| *strong* |\n|!http://tester.local/logo.png!| !http://tester.local/logo.png! |\n|\"$\":https://github.com/netcarver/textile| \"$\":https://github.com/netcarver/textile |\n\n| This | is | a | row | * with a list\n* inside it |\n|This|is|a|row|* with a list\n* inside it|\n", 
    "expect": "<p>Tables containing other textile elements.</p>\n\n<table>\n<tr>\n<td>.244 &#215; -.123 = ?</td>\n</tr>\n</table>\n\n<table>\n<tr>\n<td><code>Don&#39;t _touch_ this!</code></td>\n<td> <code>Don&#39;t _touch_ this!</code> </td>\n</tr>\n<tr>\n<td>Don't _touch_ this!</td>\n<td> Don't _touch_ this! </td>\n</tr>\n<tr>\n<td>You <em>can</em> touch this!</td>\n<td> You <em>can</em> touch this! </td>\n</tr>\n<tr>\n<td><em>touch</em> this!</td>\n<td> <em>touch</em> this! </td>\n</tr>\n<tr>\n<td><sup>superscripted</sup></td>\n<td> <sup>superscripted</sup> </td>\n</tr>\n<tr>\n<td><sub>subscripted</sub></td>\n<td> <sub>subscripted</sub> </td>\n</tr>\n<tr>\n<td><strong>strong</strong></td>\n<td> <strong>strong</strong> </td>\n</tr>\n<tr>\n<td><img alt=\"\" src=\"http://tester.local/logo.png\" /></td>\n<td> <img alt=\"\" src=\"http://tester.local/logo.png\" /> </td>\n</tr>\n<tr>\n<td><a href=\"https://github.com/netcarver/textile\">github.com/netcarver/textile</a></td>\n<td> <a href=\"https://github.com/netcarver/textile\">github.com/netcarver/textile</a> </td>\n</tr>\n</table>\n\n<table>\n<tr>\n<td> This </td>\n<td> is </td>\n<td> a </td>\n<td> row </td>\n<td> \t<ul>\n<li>with a list</li>\n<li>inside it</li>\n</ul></td>\n</tr>\n<tr>\n<td>This</td>\n<td>is</td>\n<td>a</td>\n<td>row</td>\n<td>\t<ul>\n<li>with a list</li>\n<li>inside it</li>\n</ul></td>\n</tr>\n</table>"
  }, 
  "Single quotes or apostrophe?": {
    "input": "'should this quote start with an apostrophe?'\n\n'\"s\" is my favourite letter!'\n", 
    "expect": "<p>&#8216;should this quote start with an apostrophe?&#8217;</p>\n\n<p>&#8216;&#8220;s&#8221; is my favourite letter!&#8217;</p>"
  }, 
  "Other Ruud stuff": {
    "input": "*\n\n**\n\n* item1\n", 
    "expect": "<p>*</p>\n\n<p>**</p>\n\n<ul>\n<li>item1</li>\n</ul>"
  }, 
  "Empty things...": {
    "input": "''\n\n\"\"\n\n%%\n\n^^\n\n&&\n\n**\n\n__\n\n--\n\n++\n\n~~\n\n{}\n\n[]\n\n()\n\n<>\n\n\\\\\n\n//\n\n??\n\n==\n\n@@\n\n##\n\n$$\n\n!!\n\n::\n\n;;\n\n..\n\n,,\n\n||\n\n` `\n\n' '\n\n\" \"\n\n% %\n\n^ ^\n\n& &\n\n* *\n\n_ _\n\n- -\n\n+ +\n\n~ ~\n\n{ }\n\n[ ]\n\n( )\n\n< >\n\n\\ \\\n\n/ /\n\n? ?\n\n= =\n\n@ @\n\n# #\n\n$ $\n\n! !\n\n: :\n\n; ;\n\n. .\n\n, ,\n", 
    "expect": "<p>&#8216;&#8217;</p>\n\n<p>&#8220;&#8221;</p>\n\n<p>%%</p>\n\n<p>^^</p>\n\n<p>&amp;&amp;</p>\n\n<p>**</p>\n\n<p>__</p>\n\n<p>&#8212;</p>\n\n<p>++</p>\n\n<p>~~</p>\n\n<p>{}</p>\n\n<p>[]</p>\n\n<p>()</p>\n\n<p>&lt;&gt;</p>\n\n<p>\\\\</p>\n\n<p>//</p>\n\n<p>??</p>\n\n<p>==</p>\n\n<p><code></code></p>\n\n<p>##</p>\n\n<p>$$</p>\n\n<p>!!</p>\n\n<p>::</p>\n\n<p>;;</p>\n\n<p>..</p>\n\n<p>,,</p>\n\n<table>\n<tr>\n  <td></td>\n</tr>\n</table>\n\n<p>` `</p>\n\n<p>&#8216; &#8216;</p>\n\n<p>&#8220; &#8220;</p>\n\n<p>% %</p>\n\n<p>^ ^</p>\n\n<p>&amp; &amp;</p>\n\n<ul>\n<li>*</li>\n</ul>\n\n<p>_ _</p>\n\n<p>- -</p>\n\n<p>+ +</p>\n\n<p>~ ~</p>\n\n<p>{ }</p>\n\n<p>[ ]</p>\n\n<p>( )</p>\n\n<p>&lt; &gt;</p>\n\n<p>\\ \\</p>\n\n<p>/ /</p>\n\n<p>? ?</p>\n\n<p>= =</p>\n\n<p><code> </code></p>\n\n<ol>\n<li>#</li>\n</ol>\n\n<p>$ $</p>\n\n<p>! !</p>\n\n<dl>\n<dd>:</dd>\n</dl>\n\n<dl>\n<dt>;</dt>\n</dl>\n\n<p>. .</p>\n\n<p>, ,</p>"
  }, 
  "Paragraph with attributes": {
    "input": "p(class#id)[en-us]{color: blue;}. (also applied by default)\n", 
    "expect": "<p class=\"class\" id=\"id\" lang=\"en-us\" style=\"color: blue;\">(also applied by default)</p>\n"
  }, 
  "Paragraph text": {
    "input": "A paragraph.\n\nAnother paragraph.\n\nA paragraph with\na line break.\n\nHere's some <b>bold</b> text.\n", 
    "notes": "Paragraphs should be properly wrapped in <p>...</p> tags and newlines replaced with <br /> tags.", 
    "expect": "<p>A paragraph.</p>\n\n<p>Another paragraph.</p>\n\n<p>A paragraph with<br />\na line break.</p>\n\n<p>Here&#8217;s some <b>bold</b> text.</p>\n"
  }, 
  "Lists in tables": {
    "input": "|* Foo[^2^]\n* _bar_\n* ~baz~ |\n|#4 *Four*\n# __Five__ |\n|-(hot) coffee := Hot and black\n-(hot#tea) tea := Also hot, but a little less black\n-(cold) milk := \nNourishing beverage for baby cows.\nCold drink that goes great with cookies. =:\n|\n|* bullet\n*# number\n*# number\n*#* bullet\n*# number\n*# number with\na break\n* bullet\n** okay |\n", 
    "expect": "<table>\n<tr>\n<td>\t<ul>\n<li>Foo<sup>2</sup></li>\n<li><em>bar</em></li>\n<li><sub>baz</sub></li>\n</ul></td>\n</tr>\n<tr>\n<td>\t<ol start=\"4\">\n<li><strong>Four</strong></li>\n<li><i>Five</i></li>\n</ol></td>\n</tr>\n<tr>\n<td><dl>\n<dt class=\"hot\">coffee</dt>\n<dd>Hot and black</dd>\n<dt class=\"hot\" id=\"tea\">tea</dt>\n<dd>Also hot, but a little less black</dd>\n<dt class=\"cold\">milk</dt>\n<dd><p>Nourishing beverage for baby cows.<br />\nCold drink that goes great with cookies.</p></dd><br />\n</dl></td>\n</tr>\n<tr>\n<td>\t<ul>\n<li>bullet\n<ol>\n<li>number</li>\n<li>number\n<ul>\n<li>bullet</li>\n</ul></li>\n<li>number</li>\n<li>number with<br />\na break</li>\n</ol></li>\n<li>bullet\n<ul>\n<li>okay</li>\n</ul></li>\n</ul></td>\n</tr>\n</table>\n"
  }, 
  "Dashes & Elipsis": {
    "input": "You know the Italian proverb -- Chi ha compagno ha padrone.\n\nYou know the Italian proverb--Chi ha compagno ha padrone.\n\nYou know the Italian proverb - Chi ha compagno ha padrone.\n\nYou know the Italian proverb-Chi ha compagno ha padrone.\n\nYou know the Italian proverb... Chi ha compagno ha padrone.\n\nYou know the Italian proverb...Chi ha compagno ha padrone.\n", 
    "notes": "-- should be replaced with em-dash; ' - ' with en-dash (but not inside another sequence of characters) and '...' with elipsis.", 
    "expect": "<p>You know the Italian proverb &#8212; Chi ha compagno ha padrone.</p>\n\n<p>You know the Italian proverb&#8212;Chi ha compagno ha padrone.</p>\n\n<p>You know the Italian proverb &#8211; Chi ha compagno ha padrone.</p>\n\n<p>You know the Italian proverb-Chi ha compagno ha padrone.</p>\n\n<p>You know the Italian proverb&#8230; Chi ha compagno ha padrone.</p>\n\n<p>You know the Italian proverb&#8230;Chi ha compagno ha padrone.</p>\n"
  }, 
  "Single quotes enclosing normal apostrophes + emphasis": {
    "input": "'Here's a _quote_!'\n\n'Here's a\n_quote_!'\n", 
    "expect": "<p>&#8216;Here&#8217;s a <em>quote</em>!&#8217;</p>\n\n<p>&#8216;Here&#8217;s a<br />\n<em>quote</em>!&#8217;</p>\n"
  }, 
  "All capitals comment post": {
    "input": "HELLO, I SEE YOU DON'T LIKE PEOPLE TO SHOUT. WHY?\n", 
    "expect": "<p><span class=\"caps\">HELLO</span>, I <span class=\"caps\">SEE</span> <span class=\"caps\">YOU</span> <span class=\"caps\">DON</span>&#8217;T <span class=\"caps\">LIKE</span> <span class=\"caps\">PEOPLE</span> TO <span class=\"caps\">SHOUT</span>. <span class=\"caps\">WHY</span>?</p>\n"
  }, 
  "Spans in table cells": {
    "input": "| *strong* |\n\n| _em_ |\n\n| Inter-word -dashes- | ZIP-codes are 5- or 9-digit codes | Hello ??<a href=\"https://github.com\">Github</a>!?? |\n", 
    "expect": "<table>\n<tr>\n<td> <strong>strong</strong> </td>\n</tr>\n</table>\n\n<table>\n<tr>\n<td> <em>em</em> </td>\n</tr>\n</table>\n\n<table>\n<tr>\n<td> Inter-word <del>dashes</del> </td>\n<td> <span class=\"caps\">ZIP</span>-codes are 5- or 9-digit codes </td>\n<td> Hello <cite><a href=\"https://github.com\">Github</a>!</cite> </td>\n</tr>\n</table>\n"
  }, 
  "Note Links.": {
    "special": "strip_rand",
    "input": "Scientists say[#lavader] the moon is quite small. But I, for one, don't believe them. Others claim it to be made of cheese[#aardman]. If this proves true I suspect we are in for troubled times[#apollo13] as people argue over their \"share\" of the moon's cheese. In the end, its limited size[#lavader] may prove problematic.\n\nnote#lavader. \"Proof of the small moon hypothesis\":http://antwrp.gsfc.nasa.gov/apod/ap080801.html. Copyright(c) Laurent Laveder\n\nnote#aardman. \"Proof of a cheese moon\":http://www.imdb.com/title/tt0104361\n\nnote#apollo13. After all, things do go \"wrong\":http://en.wikipedia.org/wiki/Apollo_13#The_oxygen_tank_incident.\n\nh2. Here are my references.\n\nnotelist{padding:1em;margin:1em;border-bottom:1px solid gray}.\n", 
    "expect": "<p>Scientists say<sup><a href=\"#note\"><span id=\"noteref\">1</span></a></sup> the moon is quite small. But I, for one, don&#8217;t believe them. Others claim it to be made of cheese<sup><a href=\"#note\"><span id=\"noteref\">2</span></a></sup>. If this proves true I suspect we are in for troubled times<sup><a href=\"#note\"><span id=\"noteref\">3</span></a></sup> as people argue over their &#8220;share&#8221; of the moon&#8217;s cheese. In the end, its limited size<sup><a href=\"#note\"><span id=\"noteref\">1</span></a></sup> may prove problematic.</p>\n\n<h2>Here are my references.</h2>\n\n<ol style=\"border-bottom:1px solid gray;margin:1em;padding:1em;\">\n<li><sup><a href=\"#noteref\">a</a></sup> <sup><a href=\"#noteref\">b</a></sup><span id=\"note\"> </span><a href=\"http://antwrp.gsfc.nasa.gov/apod/ap080801.html\">Proof of the small moon hypothesis</a>. Copyright&#169; Laurent Laveder</li>\n<li><sup><a href=\"#noteref\">a</a></sup><span id=\"note\"> </span><a href=\"http://www.imdb.com/title/tt0104361\">Proof of a cheese moon</a></li>\n<li><sup><a href=\"#noteref\">a</a></sup><span id=\"note\"> </span>After all, things do go <a href=\"http://en.wikipedia.org/wiki/Apollo_13#The_oxygen_tank_incident\">wrong</a>.</li>\n</ol>\n"
  }, 
  "Simple table with newline in a cell": {
    "input": "|_. Attribute |_. Default Value |_. Description |\n| 'order' |=. 'cdo' | Optional: order of sections. Omit or leave blank for default copyright-date-owner order.\nValid values: 'cdo', 'cod' |\n", 
    "expect": "<table>\n<tr>\n<th>Attribute </th>\n<th>Default Value </th>\n<th>Description </th>\n</tr>\n<tr>\n<td> &#8216;order&#8217; </td>\n<td style=\"text-align:center;\">&#8216;cdo&#8217; </td>\n<td> Optional: order of sections. Omit or leave blank for default copyright-date-owner order.<br />\nValid values: &#8216;cdo&#8217;, &#8216;cod&#8217; </td>\n</tr>\n</table>\n"
  }, 
  "Table colgroups and captions": {
    "input": "|=. Testing colgroup and col syntax\n|:\\5. 80\n|a|b|c|d|e|\n\n|=. Testing colgroup and col syntax|\n|:\\5. 80|\n|a|b|c|d|e|\n\n|=. Testing colgroup and col syntax \n|:\\5. 80 \n|a|b|c|d|e|\n\n|=. Testing colgroup and col syntax|\n|:\\5. 80| \n|a|b|c|d|e|\n\n\n", 
    "expect": "<table>\n<caption>Testing colgroup and col syntax</caption>\n<colgroup span=\"5\" width=\"80\">\n</colgroup>\n<tr>\n<td>a</td>\n<td>b</td>\n<td>c</td>\n<td>d</td>\n<td>e</td>\n</tr>\n</table>\n\n<table>\n<caption>Testing colgroup and col syntax</caption>\n<colgroup span=\"5\" width=\"80\">\n</colgroup>\n<tr>\n<td>a</td>\n<td>b</td>\n<td>c</td>\n<td>d</td>\n<td>e</td>\n</tr>\n</table>\n\n<table>\n<caption>Testing colgroup and col syntax</caption>\n<colgroup span=\"5\" width=\"80\">\n</colgroup>\n<tr>\n<td>a</td>\n<td>b</td>\n<td>c</td>\n<td>d</td>\n<td>e</td>\n</tr>\n</table>\n\n<table>\n<caption>Testing colgroup and col syntax</caption>\n<colgroup span=\"5\" width=\"80\">\n</colgroup>\n<tr>\n<td>a</td>\n<td>b</td>\n<td>c</td>\n<td>d</td>\n<td>e</td>\n</tr>\n</table>\n\n"
  }, 
  "Malformed notelist": {
    "special": "strip_rand",
    "input": "Scientists say[#lavader] the moon is quite small. But I, for one, don't believe them. Others claim it to be made of cheese[#aardman]. If this proves true I suspect we are in for troubled times[#apollo13!] as people argue over their \"share\" of the moon's cheese. In the end, its limited size[#lavader] may prove problematic.\n\nnote#unused An unreferenced note.\n\nnote#lavader^ \"Proof of the small moon hypothesis\":http://antwrp.gsfc.nasa.gov/apod/ap080801.html. Copyright(c) Laurent Laveder\n\nnote#aardman^ \"Proof of a cheese moon\":http://www.imdb.com/title/tt0104361\n\nnote#apollo13^ After all, things do go \"wrong\":http://en.wikipedia.org/wiki/Apollo_13#The_oxygen_tank_incident.\n\nnotelist{padding:1em;margin:1em;border-bottom:1px solid gray}:\u03b1!+\n", 
    "expect": "<p>Scientists say<sup><a href=\"#note\"><span id=\"noteref\">1</span></a></sup> the moon is quite small. But I, for one, don&#8217;t believe them. Others claim it to be made of cheese<sup><a href=\"#note\"><span id=\"noteref\">2</span></a></sup>. If this proves true I suspect we are in for troubled times<sup><span id=\"noteref\">3</span></sup> as people argue over their &#8220;share&#8221; of the moon&#8217;s cheese. In the end, its limited size<sup><a href=\"#note\"><span id=\"noteref\">1</span></a></sup> may prove problematic.</p>\n\n<ol style=\"border-bottom:1px solid gray;margin:1em;padding:1em;\">\n<li><sup><a href=\"#noteref\">\u03b1</a></sup><span id=\"note\"> </span><a href=\"http://antwrp.gsfc.nasa.gov/apod/ap080801.html\">Proof of the small moon hypothesis</a>. Copyright&#169; Laurent Laveder</li>\n<li><sup><a href=\"#noteref\">\u03b1</a></sup><span id=\"note\"> </span><a href=\"http://www.imdb.com/title/tt0104361\">Proof of a cheese moon</a></li>\n<li><sup><a href=\"#noteref\">\u03b1</a></sup><span id=\"note\"> </span>After all, things do go <a href=\"http://en.wikipedia.org/wiki/Apollo_13#The_oxygen_tank_incident\">wrong</a>.</li>\n<li>An unreferenced note.</li>\n</ol>\n"
  }, 
  "Styled numbers": {
    "input": "_(class1 class2#id1)1_ *[en]2* **(#id)3** ??4?? __5__ %6% +7+ -(foobarbaz#boom bang)8- ~9~ ^10^\n\n1[^st^], 2[^nd^], 3[^rd^]\n", 
    "expect": "<p><em class=\"class1 class2\" id=\"id1\">1</em> <strong lang=\"en\">2</strong> <b id=\"id\">3</b> <cite>4</cite> <i>5</i> <span>6</span> <ins>7</ins> <del class=\"foobarbaz\">8</del> <sub>9</sub> <sup>10</sup></p>\n\n<p>1<sup>st</sup>, 2<sup>nd</sup>, 3<sup>rd</sup></p>\n"
  }, 
  "Nested block modifiers": {
    "input": "_*^Here^ -is a- +are two+ things.*_\n\nA[*bold*]word. End-of-line __italic__.\n\n*_^Here^ -is a- +are two+ things._*\n\n_*em ^strong^*_ __**??&??**__ *_strong ~em~_*\n", 
    "expect": "<p><em><strong><sup>Here</sup> <del>is a</del> <ins>are two</ins> things.</strong></em></p>\n\n<p>A<strong>bold</strong>word. End-of-line <i>italic</i>.</p>\n\n<p><strong><em><sup>Here</sup> <del>is a</del> <ins>are two</ins> things.</em></strong></p>\n\n<p><em><strong>em <sup>strong</sup></strong></em> <i><b><cite>&amp;</cite></b></i> <strong><em>strong <sub>em</sub></em></strong></p>\n"
  }, 
  "Styles on phrase modifiers": {
    "input": "~{text-align:right;}My text~\n\n%{text-align:right;}My text%\n\n^{text-align:right;}My text^\n\n??{text-align:right;}My text??\n\n*{text-align:right;}My text*\n\n**{text-align:right;}My text**\n\n-{text-align:right;}My text-\n\n+{text-align:right;}My text+\n\n_{text-align:right;}My text_\n\n__{text-align:right;}My text__\n\n@{text-align:right;}My text@\n", 
    "expect": "<p><sub style=\"text-align:right;\">My text</sub></p>\n\n<p><span style=\"text-align:right;\">My text</span></p>\n\n<p><sup style=\"text-align:right;\">My text</sup></p>\n\n<p><cite style=\"text-align:right;\">My text</cite></p>\n\n<p><strong style=\"text-align:right;\">My text</strong></p>\n\n<p><b style=\"text-align:right;\">My text</b></p>\n\n<p><del style=\"text-align:right;\">My text</del></p>\n\n<p><ins style=\"text-align:right;\">My text</ins></p>\n\n<p><em style=\"text-align:right;\">My text</em></p>\n\n<p><i style=\"text-align:right;\">My text</i></p>\n\n<p><code>{text-align:right;}My text</code></p>\n"
  }, 
  "Percentages...": {
    "input": "0 %1% _2_ 45% 6.7% %89.0\n", 
    "expect": "<p>0 <span>1</span> <em>2</em> 45% 6.7% %89.0</p>\n"
  }, 
  "Non-whitelisted link schemes": {
    "input": "\"I'm a bad link\":parp://parp.com\n", 
    "expect": "<p>&#8220;I&#8217;m a bad link&#8221;:parp://parp.com</p>\n"
  }, 
  "URLs as non-links": {
    "input": "http://cnn.com\n\n\"http://cnn.com\"\n\n\"http://cnn.com(is a website)\"\n", 
    "notes": "Straight URL text sequences should not be converted to a hyperlink.", 
    "expect": "<p>http://cnn.com</p>\n\n<p>&#8220;http://cnn.com&#8221;</p>\n\n<p>&#8220;http://cnn.com(is a website)&#8221;</p>\n"
  }, 
  "n-line blockquote": {
    "input": "bq.. Don't suck the **brown stuff(tm)** off of \"2 pence\":http://royalmint.gov.uk coins; it ain't chocolate.\n\np. That's all.\n", 
    "expect": "<blockquote>\n<p>Don&#8217;t suck the <b>brown stuff&#8482;</b> off of <a href=\"http://royalmint.gov.uk\">2 pence</a> coins; it ain&#8217;t chocolate.</p>\n</blockquote>\n\n<p>That&#8217;s all.</p>\n"
  }, 
  "Cross linked footref and footnote": {
    "special": "strip_rand",
    "input": "See[2] for details, and later, reference it again[2].\n\nfn2^(footy#otherid)[en]. Here are the details.\n", 
    "notes": "Uses the '^' modifier on the footnote to turn on reverse linking to the *first* use of the corresponding reference\nThe textile tester removes the random ID from the text returned by textile in this test. This allows the rest of the output to be tested.\n", 
    "expect": "<p>See<sup class=\"footnote\" id=\"fnrev\"><a href=\"#fn\">2</a></sup> for details, and later, reference it again<sup class=\"footnote\"><a href=\"#fn\">2</a></sup>.</p>\n\n<p class=\"footy\" id=\"otherid\" lang=\"en\"><sup id=\"fn\"><a href=\"#fnrev\">2</a></sup> Here are the details.</p>\n"
  }, 
  "Relative Images (responsive)": {
    "input": "!10x10.gif!\n", 
    "setup": [
      {
        "setDimensionlessImages": true
      }
    ], 
    "expect": "<p><img alt=\"\" src=\"10x10.gif\" /></p>\n"
  }, 
  "Images with links": {
    "input": "Here's the favicon from the TXP(Textpattern) website... !http://textpattern.com/favicon.ico(title text)!:http://textpattern.com\n\nAgain, this time left aligned. !<(class#id1)http://textpattern.com/favicon.ico(title text)!:http://textpattern.com\n\nAnd again, to the right! !>(class#id2)http://textpattern.com/favicon.ico(title text)!:http://textpattern.com\n", 
    "expect": "<p>Here&#8217;s the favicon from the <acronym title=\"Textpattern\"><span class=\"caps\">TXP</span></acronym> website&#8230; <a href=\"http://textpattern.com\"><img alt=\"title text\" src=\"http://textpattern.com/favicon.ico\" title=\"title text\" /></a></p>\n\n<p>Again, this time left aligned. <a href=\"http://textpattern.com\"><img align=\"left\" alt=\"title text\" class=\"class\" id=\"id1\" src=\"http://textpattern.com/favicon.ico\" title=\"title text\" /></a></p>\n\n<p>And again, to the right! <a href=\"http://textpattern.com\"><img align=\"right\" alt=\"title text\" class=\"class\" id=\"id2\" src=\"http://textpattern.com/favicon.ico\" title=\"title text\" /></a></p>\n"
  }, 
  "Basic footref & footnote": {
    "special": "strip_rand",
    "input": "See[1] for details -- or perhaps[100] at a push.\n\nfn1. Here are the details.\n\nfn100(footy#otherid). A totally unrelated footnote.\n", 
    "notes": "Standard footrefs and footnotes from textile 2.0.\nThe textile tester removes the random ID from the text returned by textile in this test. This allows the rest of the output to be tested.\n", 
    "expect": "<p>See<sup class=\"footnote\" id=\"fnrev\"><a href=\"#fn\">1</a></sup> for details &#8212; or perhaps<sup class=\"footnote\" id=\"fnrev\"><a href=\"#fn\">100</a></sup> at a push.</p>\n\n<p class=\"footnote\" id=\"fn\"><sup>1</sup> Here are the details.</p>\n\n<p class=\"footy\" id=\"otherid\"><sup id=\"fn\">100</sup> A totally unrelated footnote.</p>\n"
  }, 
  "Complex table with row- and col-spans": {
    "input": "h4. A more complicated table\n\ntable(tableclass#tableid){color:blue}.\n|_. table |_. more |_. badass |\n|\\3. Horizontal span of 3|\n(firstrow). |first|HAL(open the pod bay doors)|1|\n|some|{color:green}. styled|content|\n|/2. spans 2 rows|this is|quite a|\n| deep test | don't you think?|\n(lastrow). |fifth|I'm a lumberjack|5|\n|sixth| _*bold italics*_ |6|\n", 
    "expect": "<h4>A more complicated table</h4>\n\n<table class=\"tableclass\" id=\"tableid\" style=\"color:blue;\">\n<tr>\n<th>table </th>\n<th>more </th>\n<th>badass </th>\n</tr>\n<tr>\n<td colspan=\"3\">Horizontal span of 3</td>\n</tr>\n<tr class=\"firstrow\">\n<td>first</td>\n<td><acronym title=\"open the pod bay doors\"><span class=\"caps\">HAL</span></acronym></td>\n<td>1</td>\n</tr>\n<tr>\n<td>some</td>\n<td style=\"color:green;\">styled</td>\n<td>content</td>\n</tr>\n<tr>\n<td rowspan=\"2\">spans 2 rows</td>\n<td>this is</td>\n<td>quite a</td>\n</tr>\n<tr>\n<td> deep test </td>\n<td> don&#8217;t you think?</td>\n</tr>\n<tr class=\"lastrow\">\n<td>fifth</td>\n<td>I&#8217;m a lumberjack</td>\n<td>5</td>\n</tr>\n<tr>\n<td>sixth</td>\n<td> <em><strong>bold italics</strong></em> </td>\n<td>6</td>\n</tr>\n</table>\n"
  }, 
  "Issue 50 Fixes": {
    "input": "&#8220;<span lang=\"en\">test</span>&#8221;\n\n\"%[en]test%\"\n", 
    "notes": "Here are the possible rewrites for issue 50 that give the results the issue author was expecting.\n", 
    "expect": "<p>&#8220;<span lang=\"en\">test</span>&#8221;</p>\n\n<p>&#8220;<span lang=\"en\">test</span>&#8221;</p>\n"
  }, 
  "Partial XHTML spans": {
    "input": "<b>bold</b> and <i>italic</i>, the hard way.\n", 
    "notes": "XHTML tags that enclose only part of a block of text will be left intact, BUT the whole block itself will be treated normally.", 
    "expect": "<p><b>bold</b> and <i>italic</i>, the hard way.</p>\n"
  }, 
  "Github Issue 50 (en-dash & strike)": {
    "input": "fjfhfjhf\nfhfhfh\nxyz\n\n- fjfhfjhf\n- fhfhfh\n- xyz\n\na -b-\na -b-\na - b\na -b\na- b\na-b\n-b\na-\nb\na -\nb\na - \nb\n", 
    "expect": "<p>fjfhfjhf<br />\nfhfhfh<br />\nxyz</p>\n\n<p>- fjfhfjhf<br />\n- fhfhfh<br />\n- xyz</p>\n\n<p>a <del>b</del><br />\na <del>b</del><br />\na &#8211; b<br />\na -b<br />\na- b<br />\na-b<br />\n-b<br />\na-<br />\nb<br />\na -<br />\nb<br />\na &#8211; <br />\nb</p>\n"
  }, 
  "Basic span modifiers & glyphs": {
    "input": "This is the \"start\" and 'end'; and I'm stuck in '88!: With smd_g4llery's attributes where h\u00c3\u00abll_won't__fr33ze_over if I use apostrophes inside odd words and_underscores (Pah).\n", 
    "expect": "<p>This is the &#8220;start&#8221; and &#8216;end&#8217;; and I&#8217;m stuck in &#8217;88!: With smd_g4llery&#8217;s attributes where h\u00c3\u00abll_won&#8217;t__fr33ze_over if I use apostrophes inside odd words and_underscores (Pah).</p>\n"
  }, 
  "Mixed XHTML and Textile Links": {
    "assert": "skip", 
    "input": "<a href=\"http://example.org\" title=\"dummy\">example.org</a> _word_ abc\n", 
    "notes": "Reported here... http://forum.textpattern.com/viewtopic.php?pid=157506#p157506\n", 
    "expect": "<p><a href=\"http://example.org\" title=\"dummy\">example.org</a> <em>word</em> abc</p>\n"
  }, 
  "Square-brackets": {
    "special": "strip_rand",
    "input": "1[^st^], 2[^nd^], 3[^rd^]. 2 log[~n~]\n\nA close[!http://textpattern.com/favicon.ico!]image.\nA tight[\"text\":http://textpattern.com/]link.\nA [\"footnoted link\":http://textpattern.com/][182].\n", 
    "expect": "<p>1<sup>st</sup>, 2<sup>nd</sup>, 3<sup>rd</sup>. 2 log<sub>n</sub></p>\n\n<p>A close<img alt=\"\" src=\"http://textpattern.com/favicon.ico\" />image.<br />\nA tight<a href=\"http://textpattern.com/\">text</a>link.<br />\nA <a href=\"http://textpattern.com/\">footnoted link</a><sup class=\"footnote\" id=\"fnrev\"><a href=\"#fn\">182</a></sup>.</p>\n"
  }, 
  "Ruud's Improvements...": {
    "input": "??*text*??\n\n_person_'s\n\n*person*'s\n\n\"text\":http://url/\"\n\n\"text\":http://url...\n\n*CAPS \"text\":http://url*\n\n\"_text_\"\n\n*- text -*\n\n<text *text*\n", 
    "expect": "<p><cite><strong>text</strong></cite></p>\n\n<p><em>person</em>&#8217;s</p>\n\n<p><strong>person</strong>&#8217;s</p>\n\n<p><a href=\"http://url/\">text</a>&#8221;</p>\n\n<p><a href=\"http://url\">text</a>&#8230;</p>\n\n<p><strong><span class=\"caps\">CAPS</span> <a href=\"http://url\">text</a></strong></p>\n\n<p>&#8220;<em>text</em>&#8221;</p>\n\n<p><strong>&#8211; text &#8211;</strong></p>\n\n<p>&lt;text <strong>text</strong></p>\n"
  }, 
  "Notextile": {
    "input": "==*no* <b>textile</b>==\n\n==\nThis text should never,\never, ever, ever, ever\nbe \"textiled(tm)\"!\n==\n\nBut \"this(tm)\" should be whilst, yet again, >==this(tm)==< should _not_!\n", 
    "expect": "<p>*no* <b>textile</b></p>\n\n<p>\nThis text should never,\never, ever, ever, ever\nbe \"textiled(tm)\"!\n</p>\n\n<p>But &#8220;this&#8482;&#8221; should be whilst, yet again, &gt;this(tm)&lt; should <em>not</em>!</p>\n"
  }, 
  "Textile comments": {
    "input": "###. Here's a comment.\n\nh3. Hello\n\n###. And\nanother\none.\n\nGoodbye.\n", 
    "expect": "<h3>Hello</h3>\n\n<p>Goodbye.</p>\n"
  }, 
  "Simple Note Links": {
    "special": "strip_rand",
    "input": "Scientists say[#lavader] the moon is quite small. But I, for one, don't believe them. Others claim it to be made of cheese[#aardman]. If this proves true I suspect we are in for troubled times[#apollo13] as people argue over their \"share\" of the moon's cheese. In the end, its limited size[#lavader] may prove problematic.\n\nnote#lavader(noteclass). \"Proof of the small moon hypothesis\":http://antwrp.gsfc.nasa.gov/apod/ap080801.html. Copyright(c) Laurent Laveder\n\nnote#aardman(#noteid). \"Proof of a cheese moon\":http://www.imdb.com/title/tt0104361\n\nnote#apollo13. After all, things do go \"wrong\":http://en.wikipedia.org/wiki/Apollo_13#The_oxygen_tank_incident.\n\nnotelist{padding:1em;margin:1em;border-bottom:1px solid gray}.\n\nnotelist{padding:1em;margin:1em;border-bottom:1px solid gray}:\u00a7^.\n\nnotelist{padding:1em;margin:1em;border-bottom:1px solid gray}:\u2021.\n", 
    "expect": "<p>Scientists say<sup><a href=\"#note\"><span id=\"noteref\">1</span></a></sup> the moon is quite small. But I, for one, don&#8217;t believe them. Others claim it to be made of cheese<sup><a href=\"#note\"><span id=\"noteref\">2</span></a></sup>. If this proves true I suspect we are in for troubled times<sup><a href=\"#note\"><span id=\"noteref\">3</span></a></sup> as people argue over their &#8220;share&#8221; of the moon&#8217;s cheese. In the end, its limited size<sup><a href=\"#note\"><span id=\"noteref\">1</span></a></sup> may prove problematic.</p>\n\n<ol style=\"border-bottom:1px solid gray;margin:1em;padding:1em;\">\n<li class=\"noteclass\"><sup><a href=\"#noteref\">a</a></sup> <sup><a href=\"#noteref\">b</a></sup><span id=\"note\"> </span><a href=\"http://antwrp.gsfc.nasa.gov/apod/ap080801.html\">Proof of the small moon hypothesis</a>. Copyright&#169; Laurent Laveder</li>\n<li id=\"noteid\"><sup><a href=\"#noteref\">a</a></sup><span id=\"note\"> </span><a href=\"http://www.imdb.com/title/tt0104361\">Proof of a cheese moon</a></li>\n<li><sup><a href=\"#noteref\">a</a></sup><span id=\"note\"> </span>After all, things do go <a href=\"http://en.wikipedia.org/wiki/Apollo_13#The_oxygen_tank_incident\">wrong</a>.</li>\n</ol>\n\n<ol style=\"border-bottom:1px solid gray;margin:1em;padding:1em;\">\n<li class=\"noteclass\"><sup><a href=\"#noteref\">\u00a7</a></sup><span id=\"note\"> </span><a href=\"http://antwrp.gsfc.nasa.gov/apod/ap080801.html\">Proof of the small moon hypothesis</a>. Copyright&#169; Laurent Laveder</li>\n<li id=\"noteid\"><sup><a href=\"#noteref\">\u00a7</a></sup><span id=\"note\"> </span><a href=\"http://www.imdb.com/title/tt0104361\">Proof of a cheese moon</a></li>\n<li><sup><a href=\"#noteref\">\u00a7</a></sup><span id=\"note\"> </span>After all, things do go <a href=\"http://en.wikipedia.org/wiki/Apollo_13#The_oxygen_tank_incident\">wrong</a>.</li>\n</ol>\n\n<ol style=\"border-bottom:1px solid gray;margin:1em;padding:1em;\">\n<li class=\"noteclass\"><sup><a href=\"#noteref\">\u2021</a></sup> <sup><a href=\"#noteref\">\u2021</a></sup><span id=\"note\"> </span><a href=\"http://antwrp.gsfc.nasa.gov/apod/ap080801.html\">Proof of the small moon hypothesis</a>. Copyright&#169; Laurent Laveder</li>\n<li id=\"noteid\"><sup><a href=\"#noteref\">\u2021</a></sup><span id=\"note\"> </span><a href=\"http://www.imdb.com/title/tt0104361\">Proof of a cheese moon</a></li>\n<li><sup><a href=\"#noteref\">\u2021</a></sup><span id=\"note\"> </span>After all, things do go <a href=\"http://en.wikipedia.org/wiki/Apollo_13#The_oxygen_tank_incident\">wrong</a>.</li>\n</ol>\n"
  }, 
  "Double quotes enclosing spans": {
    "input": "\"Here's another one\"\n\nWell \"%here's another one%\"\n\nWell \"%+here+'s another one%\"\n\nWell \"%*here*'s another one%\"\n\nWell \"%_here_'s another one%\"\n\nWell \"%(class#id)_here_'s another one%\"\n\nWell \"%(class#id)_here_'s -yet _**another**_ ^example^ ~of~- *one*'s% \"results\":http://cnn.com. Howzat!\" With \"some *^more^* results\":http://cnn.com\n\n\"Should _Newsweek_'s editor be spared?\"\n", 
    "expect": "<p>&#8220;Here&#8217;s another one&#8221;</p>\n\n<p>Well &#8220;<span>here&#8217;s another one</span>&#8221;</p>\n\n<p>Well &#8220;<span><ins>here</ins>&#8217;s another one</span>&#8221;</p>\n\n<p>Well &#8220;<span><strong>here</strong>&#8217;s another one</span>&#8221;</p>\n\n<p>Well &#8220;<span><em>here</em>&#8217;s another one</span>&#8221;</p>\n\n<p>Well &#8220;<span class=\"class\" id=\"id\"><em>here</em>&#8217;s another one</span>&#8221;</p>\n\n<p>Well &#8220;<span class=\"class\" id=\"id\"><em>here</em>&#8217;s <del>yet <em><b>another</b></em> <sup>example</sup> <sub>of</sub></del> <strong>one</strong>&#8217;s</span> <a href=\"http://cnn.com\">results</a>. Howzat!&#8221; With <a href=\"http://cnn.com\">some <strong><sup>more</sup></strong> results</a></p>\n\n<p>&#8220;Should <em>Newsweek</em>&#8217;s editor be spared?&#8221;</p>\n"
  }, 
  "Links": {
    "input": "\"link text\":http://example.com\n\n\"link text\":http://example.com.\n\n\"link text\":http://example.com,\n\n\"link text\":http://example.com?\n\n\"link text\":http://example.com:\n\n\"link text\":http://example.com:80\n\n\"link text\":http://example.com;\n\n\"link text\":http://example.com|\n\n\"link text\":http://example.com*\n\n\"link text\":http://example.com/\n\n\"link text\":http://example.com/.\n\n\"link text\":http://example.com/,\n\n\"link text\":http://example.com/?\n\n\"link text\":http://example.com/:\n\n\"link text\":http://example.com/:80\n\n\"link text\":http://example.com/;\n\n\"link text\":http://example.com/|\n\n\"link text\":http://example.com/*\n\n(\"link text\":http://example.com)\n\n(\"link text\":http://example.com/)\n\n(Try \"this link\":http://example.com/)\n\n(\"link text\":http://example.com/ go go go!)\n\n\"link text\":/example\n\n\"link text(with title)\":http://example.com/\n\nHere is \"a link\":0, and \"another link\":0 to a site.\n[0]http://thresholdstate.com/\n\nHere is \"a link\":ts, and \"another link\":ts to the same site.\n[ts]http://thresholdstate.com/\n\n\"link text(with title)\":https://example.com/\n\n\"link text(with title)\":ftp://example.com/\n\n\"link text(with title)\":mailto:contact@example.com\n\n\"(class#id)[de-de]$(title)\":http://textpattern.com\n\n\"(class#id)[en-gb]{text-transform:uppercase}Try this link(Link title)\":http://textile.sitemonks.com\n\n\"(linkclass#linkid)[de-de]!(imgclass#imgid)imgurl(img/link text)!(Link Title)\":linkurl\n\n\"(myclass) (just in case you were wondering)\":http://slashdot.org/\n", 
    "expect": "<p><a href=\"http://example.com\">link text</a></p>\n\n<p><a href=\"http://example.com\">link text</a>.</p>\n\n<p><a href=\"http://example.com\">link text</a>,</p>\n\n<p><a href=\"http://example.com\">link text</a>?</p>\n\n<p><a href=\"http://example.com\">link text</a>:</p>\n\n<p><a href=\"http://example.com:80\">link text</a></p>\n\n<p><a href=\"http://example.com\">link text</a>;</p>\n\n<p><a href=\"http://example.com\">link text</a>|</p>\n\n<p><a href=\"http://example.com\">link text</a>*</p>\n\n<p><a href=\"http://example.com/\">link text</a></p>\n\n<p><a href=\"http://example.com/\">link text</a>.</p>\n\n<p><a href=\"http://example.com/\">link text</a>,</p>\n\n<p><a href=\"http://example.com/\">link text</a>?</p>\n\n<p><a href=\"http://example.com/\">link text</a>:</p>\n\n<p><a href=\"http://example.com/%3A80\">link text</a></p>\n\n<p><a href=\"http://example.com/\">link text</a>;</p>\n\n<p><a href=\"http://example.com/\">link text</a>|</p>\n\n<p><a href=\"http://example.com/\">link text</a>*</p>\n\n<p>(<a href=\"http://example.com\">link text</a>)</p>\n\n<p>(<a href=\"http://example.com/\">link text</a>)</p>\n\n<p>(Try <a href=\"http://example.com/\">this link</a>)</p>\n\n<p>(<a href=\"http://example.com/\">link text</a> go go go!)</p>\n\n<p><a href=\"/example\">link text</a></p>\n\n<p><a href=\"http://example.com/\" title=\"with title\">link text</a></p>\n\n<p>Here is <a href=\"http://thresholdstate.com/\">a link</a>, and <a href=\"http://thresholdstate.com/\">another link</a> to a site.</p>\n\n<p>Here is <a href=\"http://thresholdstate.com/\">a link</a>, and <a href=\"http://thresholdstate.com/\">another link</a> to the same site.</p>\n\n<p><a href=\"https://example.com/\" title=\"with title\">link text</a></p>\n\n<p><a href=\"ftp://example.com/\" title=\"with title\">link text</a></p>\n\n<p><a href=\"mailto:contact@example.com\" title=\"with title\">link text</a></p>\n\n<p><a class=\"class\" href=\"http://textpattern.com\" id=\"id\" lang=\"de-de\" title=\"title\">textpattern.com</a></p>\n\n<p><a class=\"class\" href=\"http://textile.sitemonks.com\" id=\"id\" lang=\"en-gb\" style=\"text-transform:uppercase;\" title=\"Link title\">Try this link</a></p>\n\n<p><a class=\"linkclass\" href=\"linkurl\" id=\"linkid\" lang=\"de-de\" title=\"Link Title\"><img alt=\"img/link text\" class=\"imgclass\" id=\"imgid\" src=\"imgurl\" title=\"img/link text\" /></a></p>\n\n<p><a class=\"myclass\" href=\"http://slashdot.org/\">(just in case you were wondering)</a></p>\n"
  }, 
  "Basic glyphs": {
    "input": "\"Textile(c)\" is a registered(r) 'trademark' of Textpattern(tm) -- or TXP(That's textpattern!) -- at least it was - back in '88 when 2x4 was (+/-)5(o)C ... QED!\n\np{font-size: 200%;}. 2(1/4) 3(1/2) 4(3/4)\n", 
    "expect": "<p>&#8220;Textile&#169;&#8221; is a registered&#174; &#8216;trademark&#8217; of Textpattern&#8482; &#8212; or <acronym title=\"That&#8217;s textpattern!\"><span class=\"caps\">TXP</span></acronym> &#8212; at least it was &#8211; back in &#8217;88 when 2&#215;4 was &#177;5&#176;C &#8230; <span class=\"caps\">QED</span>!</p>\n\n<p style=\"font-size: 200%;\">2&#188; 3&#189; 4&#190;</p>\n"
  }, 
  "Well formed HTML": {
    "input": "<div class=\"foo\">\n<span>blah</span>\n</div>\n", 
    "notes": "Paragraphs that consist entirely of raw XHTML block tags will not be enclosed in <p>...</p> tags.", 
    "expect": "<div class=\"foo\">\n<span>blah</span>\n</div>\n"
  }, 
  "Issue 1 ... Bold it - it bold": {
    "input": "Some italic bold _*aaaa*_ text? Some bold italic *_bbbb_* text?\n", 
    "expect": "<p>Some italic bold <em><strong>aaaa</strong></em> text? Some bold italic <strong><em>bbbb</em></strong> text?</p>\n"
  }, 
  "Unicode Links": {
    "input": "\"\u00dcbermensch\":https://de.wikipedia.org/wiki/\u00dcbermensch\n\n\"$\":https://de.wikipedia.org/wiki/\u00dcbermensch\n\n\"\u798f\u5cf6\u99c5\":link5 this is a test -- no trailing slash.\n[link5]http://ja.wikipedia.org/wiki/\u798f\u5cf6\u99c5_(\u5927\u962a\u5e9c)\n\n\"\u00e4\u00f6\u00fc\u00c4\u00d6\u00dc\u00df\u00e7\u00e9\u00e1\u00f3\u00fa\u00e8\u00e0\u00f2\u00f9\u00c9\u00c1\u00d3\u00da\u00c8\u00c0\u00d2\u00d9\u00ea\u00ca\u00f4\u00d4\u00e2\u00c2\u00fb\u00db\u00e5\u00c5\u0153\u0152\u00e6\u00c6\u00f8\u00d8\u00eb\u00cb\u00ef\u00cf without trailing slash\":link3\n[link3]https://en.wikipedia.com/\u00e4/\u00f6\u00fc\u00c4\u00d6\u00dc\u00df\u00e7/\u00e9\u00e1\u00f3\u00fa\u00e8/\u00e0\u00f2\u00f9\u00c9\u00c1\u00d3\u00da/\u00c8\u00c0\u00d2\u00d9\u00ea\u00ca\u00f4\u00d4\u00e2\u00c2\u00fb/\u00db\u00e5\u00c5\u0153\u0152\u00e6\u00c6\u00f8\u00d8\u00eb\u00cb\u00ef\u00cf\n\n\"\u00e4\u00f6\u00fc\u00c4\u00d6\u00dc\u00df\u00e7\u00e9\u00e1\u00f3\u00fa\u00e8\u00e0\u00f2\u00f9\u00c9\u00c1\u00d3\u00da\u00c8\u00c0\u00d2\u00d9\u00ea\u00ca\u00f4\u00d4\u00e2\u00c2\u00fb\u00db\u00e5\u00c5\u0153\u0152\u00e6\u00c6\u00f8\u00d8\u00eb\u00cb\u00ef\u00cf without trailing slash\":https://en.wikipedia.com/\u00e4/\u00f6\u00fc\u00c4\u00d6\u00dc\u00df\u00e7/\u00e9\u00e1\u00f3\u00fa\u00e8/\u00e0\u00f2\u00f9\u00c9\u00c1\u00d3\u00da/\u00c8\u00c0\u00d2\u00d9\u00ea\u00ca\u00f4\u00d4\u00e2\u00c2\u00fb/\u00db\u00e5\u00c5\u0153\u0152\u00e6\u00c6\u00f8\u00d8\u00eb\u00cb\u00ef\u00cf\n\n\"\u798f\u5cf6\u99c5\":link6 this is a test -- with a trailing slash.\n[link6]http://ja.wikipedia.org/wiki/\u798f\u5cf6\u99c5_(\u5927\u962a\u5e9c)/\n\n\"\u00e4\u00f6\u00fc\u00c4\u00d6\u00dc\u00df\u00e7\u00e9\u00e1\u00f3\u00fa\u00e8\u00e0\u00f2\u00f9\u00c9\u00c1\u00d3\u00da\u00c8\u00c0\u00d2\u00d9\u00ea\u00ca\u00f4\u00d4\u00e2\u00c2\u00fb\u00db\u00e5\u00c5\u0153\u0152\u00e6\u00c6\u00f8\u00d8\u00eb\u00cb\u00ef\u00cf with trailing slash\":link4\n[link4]https://en.wikipedia.com/\u00e4/\u00f6\u00fc\u00c4\u00d6\u00dc\u00df\u00e7/\u00e9\u00e1\u00f3\u00fa\u00e8/\u00e0\u00f2\u00f9\u00c9\u00c1\u00d3\u00da/\u00c8\u00c0\u00d2\u00d9\u00ea\u00ca\u00f4\u00d4\u00e2\u00c2\u00fb/\u00db\u00e5\u00c5\u0153\u0152\u00e6\u00c6\u00f8\u00d8\u00eb\u00cb\u00ef\u00cf/\n\n\"\u00e4\u00f6\u00fc\u00c4\u00d6\u00dc\u00df\u00e7\u00e9\u00e1\u00f3\u00fa\u00e8\u00e0\u00f2\u00f9\u00c9\u00c1\u00d3\u00da\u00c8\u00c0\u00d2\u00d9\u00ea\u00ca\u00f4\u00d4\u00e2\u00c2\u00fb\u00db\u00e5\u00c5\u0153\u0152\u00e6\u00c6\u00f8\u00d8\u00eb\u00cb\u00ef\u00cf with trailing slash\":https://en.wikipedia.com/\u00e4/\u00f6\u00fc\u00c4\u00d6\u00dc\u00df\u00e7/\u00e9\u00e1\u00f3\u00fa\u00e8/\u00e0\u00f2\u00f9\u00c9\u00c1\u00d3\u00da/\u00c8\u00c0\u00d2\u00d9\u00ea\u00ca\u00f4\u00d4\u00e2\u00c2\u00fb/\u00db\u00e5\u00c5\u0153\u0152\u00e6\u00c6\u00f8\u00d8\u00eb\u00cb\u00ef\u00cf/\n\n\"Google\":link1 or \"secure google\":link2\n[link1]http://google.com\n[link2]https://google.com\n", 
    "expect": "<p><a href=\"https://de.wikipedia.org/wiki/%C3%9Cbermensch\">\u00dcbermensch</a></p>\n\n<p><a href=\"https://de.wikipedia.org/wiki/%C3%9Cbermensch\">de.wikipedia.org/wiki/\u00dcbermensch</a></p>\n\n<p><a href=\"http://ja.wikipedia.org/wiki/%E7%A6%8F%E5%B3%B6%E9%A7%85_%28%E5%A4%A7%E9%98%AA%E5%BA%9C%29\">\u798f\u5cf6\u99c5</a> this is a test &#8212; no trailing slash.</p>\n\n<p><a href=\"https://en.wikipedia.com/%C3%A4/%C3%B6%C3%BC%C3%84%C3%96%C3%9C%C3%9F%C3%A7/%C3%A9%C3%A1%C3%B3%C3%BA%C3%A8/%C3%A0%C3%B2%C3%B9%C3%89%C3%81%C3%93%C3%9A/%C3%88%C3%80%C3%92%C3%99%C3%AA%C3%8A%C3%B4%C3%94%C3%A2%C3%82%C3%BB/%C3%9B%C3%A5%C3%85%C5%93%C5%92%C3%A6%C3%86%C3%B8%C3%98%C3%AB%C3%8B%C3%AF%C3%8F\">\u00e4\u00f6\u00fc\u00c4\u00d6\u00dc\u00df\u00e7\u00e9\u00e1\u00f3\u00fa\u00e8\u00e0\u00f2\u00f9\u00c9\u00c1\u00d3\u00da\u00c8\u00c0\u00d2\u00d9\u00ea\u00ca\u00f4\u00d4\u00e2\u00c2\u00fb\u00db\u00e5\u00c5\u0153\u0152\u00e6\u00c6\u00f8\u00d8\u00eb\u00cb\u00ef\u00cf without trailing slash</a></p>\n\n<p><a href=\"https://en.wikipedia.com/%C3%A4/%C3%B6%C3%BC%C3%84%C3%96%C3%9C%C3%9F%C3%A7/%C3%A9%C3%A1%C3%B3%C3%BA%C3%A8/%C3%A0%C3%B2%C3%B9%C3%89%C3%81%C3%93%C3%9A/%C3%88%C3%80%C3%92%C3%99%C3%AA%C3%8A%C3%B4%C3%94%C3%A2%C3%82%C3%BB/%C3%9B%C3%A5%C3%85%C5%93%C5%92%C3%A6%C3%86%C3%B8%C3%98%C3%AB%C3%8B%C3%AF%C3%8F\">\u00e4\u00f6\u00fc\u00c4\u00d6\u00dc\u00df\u00e7\u00e9\u00e1\u00f3\u00fa\u00e8\u00e0\u00f2\u00f9\u00c9\u00c1\u00d3\u00da\u00c8\u00c0\u00d2\u00d9\u00ea\u00ca\u00f4\u00d4\u00e2\u00c2\u00fb\u00db\u00e5\u00c5\u0153\u0152\u00e6\u00c6\u00f8\u00d8\u00eb\u00cb\u00ef\u00cf without trailing slash</a></p>\n\n<p><a href=\"http://ja.wikipedia.org/wiki/%E7%A6%8F%E5%B3%B6%E9%A7%85_%28%E5%A4%A7%E9%98%AA%E5%BA%9C%29/\">\u798f\u5cf6\u99c5</a> this is a test &#8212; with a trailing slash.</p>\n\n<p><a href=\"https://en.wikipedia.com/%C3%A4/%C3%B6%C3%BC%C3%84%C3%96%C3%9C%C3%9F%C3%A7/%C3%A9%C3%A1%C3%B3%C3%BA%C3%A8/%C3%A0%C3%B2%C3%B9%C3%89%C3%81%C3%93%C3%9A/%C3%88%C3%80%C3%92%C3%99%C3%AA%C3%8A%C3%B4%C3%94%C3%A2%C3%82%C3%BB/%C3%9B%C3%A5%C3%85%C5%93%C5%92%C3%A6%C3%86%C3%B8%C3%98%C3%AB%C3%8B%C3%AF%C3%8F/\">\u00e4\u00f6\u00fc\u00c4\u00d6\u00dc\u00df\u00e7\u00e9\u00e1\u00f3\u00fa\u00e8\u00e0\u00f2\u00f9\u00c9\u00c1\u00d3\u00da\u00c8\u00c0\u00d2\u00d9\u00ea\u00ca\u00f4\u00d4\u00e2\u00c2\u00fb\u00db\u00e5\u00c5\u0153\u0152\u00e6\u00c6\u00f8\u00d8\u00eb\u00cb\u00ef\u00cf with trailing slash</a></p>\n\n<p><a href=\"https://en.wikipedia.com/%C3%A4/%C3%B6%C3%BC%C3%84%C3%96%C3%9C%C3%9F%C3%A7/%C3%A9%C3%A1%C3%B3%C3%BA%C3%A8/%C3%A0%C3%B2%C3%B9%C3%89%C3%81%C3%93%C3%9A/%C3%88%C3%80%C3%92%C3%99%C3%AA%C3%8A%C3%B4%C3%94%C3%A2%C3%82%C3%BB/%C3%9B%C3%A5%C3%85%C5%93%C5%92%C3%A6%C3%86%C3%B8%C3%98%C3%AB%C3%8B%C3%AF%C3%8F/\">\u00e4\u00f6\u00fc\u00c4\u00d6\u00dc\u00df\u00e7\u00e9\u00e1\u00f3\u00fa\u00e8\u00e0\u00f2\u00f9\u00c9\u00c1\u00d3\u00da\u00c8\u00c0\u00d2\u00d9\u00ea\u00ca\u00f4\u00d4\u00e2\u00c2\u00fb\u00db\u00e5\u00c5\u0153\u0152\u00e6\u00c6\u00f8\u00d8\u00eb\u00cb\u00ef\u00cf with trailing slash</a></p>\n\n<p><a href=\"http://google.com\">Google</a> or <a href=\"https://google.com\">secure google</a></p>\n"
  }, 
  "Single quotes enclosing normal apostrophes 1": {
    "input": "'Here's a quote!'\n\n'Here's another\nquote!'\n", 
    "expect": "<p>&#8216;Here&#8217;s a quote!&#8217;</p>\n\n<p>&#8216;Here&#8217;s another<br />\nquote!&#8217;</p>\n"
  }, 
  "Paragraphs with padding": {
    "input": "p((((((((((. Left pad 10em.\n\np)). Right pad 2em.\n\np((())). Left and right pad 3em.\n", 
    "expect": "<p style=\"padding-left:10em;\">Left pad 10em.</p>\n\n<p style=\"padding-right:2em;\">Right pad 2em.</p>\n\n<p style=\"padding-left:3em;padding-right:3em;\">Left and right pad 3em.</p>\n"
  }, 
  "Self-referencing link alias": {
    "input": "Here is \"$\":0, and \"another link\":0, to the ^[\"$\":0]^ site.\n[0]http://thresholdstate.com/?q=true\n\nPlease check on \"$\":4 for any updates.\n[4]https://de.wikipedia.org/wiki/\u00dcbermensch\n", 
    "expect": "<p>Here is <a href=\"http://thresholdstate.com/?q=true\">http://thresholdstate.com/?q=true</a>, and <a href=\"http://thresholdstate.com/?q=true\">another link</a>, to the <sup><a href=\"http://thresholdstate.com/?q=true\">http://thresholdstate.com/?q=true</a></sup> site.</p>\n\n<p>Please check on <a href=\"https://de.wikipedia.org/wiki/%C3%9Cbermensch\">https://de.wikipedia.org/wiki/\u00dcbermensch</a> for any updates.</p>\n"
  }, 
  "Image": {
    "input": "!http://textpattern.com/favicon.ico!\n\n!<http://textpattern.com/favicon.ico!\n\n!>http://textpattern.com/favicon.ico!\n", 
    "expect": "<p><img alt=\"\" src=\"http://textpattern.com/favicon.ico\" /></p>\n\n<p><img align=\"left\" alt=\"\" src=\"http://textpattern.com/favicon.ico\" /></p>\n\n<p><img align=\"right\" alt=\"\" src=\"http://textpattern.com/favicon.ico\" /></p>\n"
  }, 
  "Single quotes 1": {
    "input": "'Here is a quote!'\n\n'Here is another\nquote!'\n", 
    "expect": "<p>&#8216;Here is a quote!&#8217;</p>\n\n<p>&#8216;Here is another<br />\nquote!&#8217;</p>\n"
  }, 
  "Table alignments": {
    "input": "|_. attribute list |\n|<. align left |\n|>. align right|\n|=. center |\n|<>. justify me|\n|^. valign top |\n|~. bottom |\n\n|_=. Grade |_=. Homeroom |_=. Type |_=. Tardy/Dismiss Time |_=. Student |\n|=. 6 | Bates | Absent |=. - | Jones, Jeanne |\n|=. 6 | O'Leary | Absent |=. - | Jones, Jackson |\n|=. 7 | Garran | Absent |=. - | Jones, Lauren |\n|=. 7 | Martin | Absent |=. - | Jones, Timothy |\n|=. 7 | Martin | Tardy |=. 10:00 | Jones, John-Paul |\n|=. 8 | Kast | Absent |=. - | Jones, Samuel |\n|=. 8 | Woods | Absent |=. - | Jones, Evelyn |\n", 
    "expect": "<table>\n<tr>\n<th>attribute list </th>\n</tr>\n<tr>\n<td style=\"text-align:left;\">align left </td>\n</tr>\n<tr>\n<td style=\"text-align:right;\">align right</td>\n</tr>\n<tr>\n<td style=\"text-align:center;\">center </td>\n</tr>\n<tr>\n<td style=\"text-align:justify;\">justify me</td>\n</tr>\n<tr>\n<td style=\"vertical-align:top;\">valign top </td>\n</tr>\n<tr>\n<td style=\"vertical-align:bottom;\">bottom </td>\n</tr>\n</table>\n\n<table>\n<tr>\n<th style=\"text-align:center;\">Grade </th>\n<th style=\"text-align:center;\">Homeroom </th>\n<th style=\"text-align:center;\">Type </th>\n<th style=\"text-align:center;\">Tardy/Dismiss Time </th>\n<th style=\"text-align:center;\">Student </th>\n</tr>\n<tr>\n<td style=\"text-align:center;\">6 </td>\n<td> Bates </td>\n<td> Absent </td>\n<td style=\"text-align:center;\">- </td>\n<td> Jones, Jeanne </td>\n</tr>\n<tr>\n<td style=\"text-align:center;\">6 </td>\n<td> O&#8217;Leary </td>\n<td> Absent </td>\n<td style=\"text-align:center;\">- </td>\n<td> Jones, Jackson </td>\n</tr>\n<tr>\n<td style=\"text-align:center;\">7 </td>\n<td> Garran </td>\n<td> Absent </td>\n<td style=\"text-align:center;\">- </td>\n<td> Jones, Lauren </td>\n</tr>\n<tr>\n<td style=\"text-align:center;\">7 </td>\n<td> Martin </td>\n<td> Absent </td>\n<td style=\"text-align:center;\">- </td>\n<td> Jones, Timothy </td>\n</tr>\n<tr>\n<td style=\"text-align:center;\">7 </td>\n<td> Martin </td>\n<td> Tardy </td>\n<td style=\"text-align:center;\">10:00 </td>\n<td> Jones, John-Paul </td>\n</tr>\n<tr>\n<td style=\"text-align:center;\">8 </td>\n<td> Kast </td>\n<td> Absent </td>\n<td style=\"text-align:center;\">- </td>\n<td> Jones, Samuel </td>\n</tr>\n<tr>\n<td style=\"text-align:center;\">8 </td>\n<td> Woods </td>\n<td> Absent </td>\n<td style=\"text-align:center;\">- </td>\n<td> Jones, Evelyn </td>\n</tr>\n</table>\n"
  }, 
  "Unlinked footref and footnote": {
    "special": "strip_rand",
    "input": "See[3!] for details.\n\nfn3. Here are the details.\n", 
    "notes": "Uses the '!' modifier on the footref to turn off linking to the footnote\nThe textile tester removes the random ID from the text returned by textile in this test. This allows the rest of the output to be tested.\n", 
    "expect": "<p>See<sup class=\"footnote\" id=\"fnrev\">3</sup> for details.</p>\n\n<p class=\"footnote\" id=\"fn\"><sup>3</sup> Here are the details.</p>\n"
  }, 
  "Headers 1-6": {
    "input": "h1. Heading 1\n\nh2. Heading 2.\n\nh3. Heading 3..\n\nh4. Heading 4...\n\nh5. Heading 5....\n\nh6. Heading 6.....\n", 
    "expect": "<h1>Heading 1</h1>\n\n<h2>Heading 2.</h2>\n\n<h3>Heading 3..</h3>\n\n<h4>Heading 4&#8230;</h4>\n\n<h5>Heading 5&#8230;.</h5>\n\n<h6>Heading 6&#8230;..</h6>\n"
  }, 
  "Blockquote with citation source": {
    "input": "bq.:http://textism.com/ Text...\n", 
    "expect": "<blockquote cite=\"http://textism.com/\">\n<p>Text&#8230;</p>\n</blockquote>\n"
  }, 
  "Parenthesised block modifiers": {
    "input": "Simple solutions (_*are* the_ best) [for _Komplex(tm)_ people].\n\nBoth (*strong*), and (_emphasis_) will be rendered with formatting.\n\nBoth [[*strong*]], and [[_emphasis_]] will be rendered with formatting.\n", 
    "expect": "<p>Simple solutions (<em><strong>are</strong> the</em> best) [for <em>Komplex&#8482;</em> people].</p>\n\n<p>Both (<strong>strong</strong>), and (<em>emphasis</em>) will be rendered with formatting.</p>\n\n<p>Both [<strong>strong</strong>], and [<em>emphasis</em>] will be rendered with formatting.</p>\n"
  }, 
  "1-line blockquote 2": {
    "input": "bq. Don't suck the **brown stuff(tm)** off of \"2 pence\":http://royalmint.gov.uk coins; it ain't chocolate.\n", 
    "expect": "<blockquote>\n<p>Don&#8217;t suck the <b>brown stuff&#8482;</b> off of <a href=\"http://royalmint.gov.uk\">2 pence</a> coins; it ain&#8217;t chocolate.</p>\n</blockquote>\n"
  }, 
  "Punctuation": {
    "input": "Greengrocers' apostrophe's.\n\n'\"I swear it was in '62, captain,\" replied I.'\n\nDad said; \"Mum said: 'It's a beautiful day viz-a-viz a picnic, isn't it?' -- _I think_.\"\n\n\"'I swear it's true, captain,' replied I, 'Here's your list: 2 apples, a banana & a papaya.'\"\n\nin '88. blah. In the '90s blah. He's in his '90s' now.\n\nHappened in '89.\n\nin '89\n\nin '89 \n\nHappened in '89. it did.\n\nFile '1.png'. '1.' '1' '10m' '1.txt'\n\nNATO(North Atlantic Treaty Organisation)'s pretty big.\n\nABC()'s poor knees.\n\nABC('s poor knees.\n\nABC)'s poor knees.\n\nHere is a %(example)'spanned'% word.\n\nThe NHS(National Health Service)' charter states...\n", 
    "expect": "<p>Greengrocers&#8217; apostrophe&#8217;s.</p>\n\n<p>&#8216;&#8220;I swear it was in &#8217;62, captain,&#8221; replied I.&#8217;</p>\n\n<p>Dad said; &#8220;Mum said: &#8216;It&#8217;s a beautiful day viz-a-viz a picnic, isn&#8217;t it?&#8217; &#8212; <em>I think</em>.&#8221;</p>\n\n<p>&#8220;&#8216;I swear it&#8217;s true, captain,&#8217; replied I, &#8216;Here&#8217;s your list: 2 apples, a banana &amp; a papaya.&#8217;&#8221;</p>\n\n<p>in &#8217;88. blah. In the &#8217;90s blah. He&#8217;s in his &#8216;90s&#8217; now.</p>\n\n<p>Happened in &#8217;89.</p>\n\n<p>in &#8217;89</p>\n\n<p>in &#8217;89 </p>\n\n<p>Happened in &#8217;89. it did.</p>\n\n<p>File &#8216;1.png&#8217;. &#8216;1.&#8217; &#8216;1&#8217; &#8216;10m&#8217; &#8216;1.txt&#8217;</p>\n\n<p><acronym title=\"North Atlantic Treaty Organisation\"><span class=\"caps\">NATO</span></acronym>&#8217;s pretty big.</p>\n\n<p><acronym title=\"\"><span class=\"caps\">ABC</span></acronym>&#8217;s poor knees.</p>\n\n<p><span class=\"caps\">ABC</span>(&#8216;s poor knees.</p>\n\n<p><span class=\"caps\">ABC</span>)&#8217;s poor knees.</p>\n\n<p>Here is a <span class=\"example\">&#8216;spanned&#8217;</span> word.</p>\n\n<p>The <acronym title=\"National Health Service\"><span class=\"caps\">NHS</span></acronym>&#8217; charter states&#8230;</p>\n"
  }, 
  "Heading with class & id": {
    "input": "h2(heading#head). Hello!\n", 
    "expect": "<h2 class=\"heading\" id=\"head\">Hello!</h2>\n"
  }, 
  "Complex definition list": {
    "input": "h2. A definition list\n\n;(class#id) Term 1\n: Def 1\n: Def 2\n: Def 3\n;; Center\n;;  NATO(Why Em Cee Ayy)\n:: Subdef 1\n:: Subdef 2\n;;; SubSub Term\n::: SubSub Def 1\n::: SubSub Def 2\n::: Subsub Def 3\nWith newline\n::: Subsub Def 4\n:: Subdef 3\n: DEF 4\n; Term 2\n: Another def\n: And another\n: One more\n:: A def without a term\n:: More defness\n; Third term for good measure\n: My definition of a boombastic jazz\n", 
    "expect": "<h2>A definition list</h2>\n\n<dl class=\"class\" id=\"id\">\n<dt>Term 1</dt>\n<dd>Def 1</dd>\n<dd>Def 2</dd>\n<dd>Def 3\n<dl>\n<dt>Center</dt>\n<dt><acronym title=\"Why Em Cee Ayy\"><span class=\"caps\">NATO</span></acronym></dt>\n<dd>Subdef 1</dd>\n<dd>Subdef 2\n<dl>\n<dt>SubSub Term</dt>\n<dd>SubSub Def 1</dd>\n<dd>SubSub Def 2</dd>\n<dd>Subsub Def 3<br />\nWith newline</dd>\n<dd>Subsub Def 4</dd>\n</dl></dd>\n<dd>Subdef 3</dd>\n</dl></dd>\n<dd><span class=\"caps\">DEF</span> 4</dd>\n<dt>Term 2</dt>\n<dd>Another def</dd>\n<dd>And another</dd>\n<dd>One more\n<dl>\n<dd>A def without a term</dd>\n<dd>More defness</dd>\n</dl></dd>\n<dt>Third term for good measure</dt>\n<dd>My definition of a boombastic jazz</dd>\n</dl>\n"
  }, 
  "Tricky Open Quotes...": {
    "input": "citation [\"(Berk.) Hilton\"], see\n[Papers \"blah blah.\"]\n\nHello (\"Mum\")...\n\nHello [\"(mum) & dad\"], see...\n\nHello (\"[mum] & dad\"), see...\n\nHello {\"(mum) & dad\"}, see...\n\n[\"Well, well (well)\"] ...\n\ncitation ['(Berk.) Hilton'], see\n[Papers \"blah blah.\"]\n\nHello ('Mum')...\n\nHello ['(mum) & dad'], see...\n\nHello ('[mum] & dad'), see...\n\nHello {'(mum) & dad'}, see...\n\n['Well, well (well)'] ...\n", 
    "expect": "<p>citation [&#8220;(Berk.) Hilton&#8221;], see<br />\n[Papers &#8220;blah blah.&#8221;]</p>\n\n<p>Hello (&#8220;Mum&#8221;)&#8230;</p>\n\n<p>Hello [&#8220;(mum) &amp; dad&#8221;], see&#8230;</p>\n\n<p>Hello (&#8220;[mum] &amp; dad&#8221;), see&#8230;</p>\n\n<p>Hello {&#8220;(mum) &amp; dad&#8221;}, see&#8230;</p>\n\n<p>[&#8220;Well, well (well)&#8221;] &#8230;</p>\n\n<p>citation [&#8216;(Berk.) Hilton&#8217;], see<br />\n[Papers &#8220;blah blah.&#8221;]</p>\n\n<p>Hello (&#8216;Mum&#8217;)&#8230;</p>\n\n<p>Hello [&#8216;(mum) &amp; dad&#8217;], see&#8230;</p>\n\n<p>Hello (&#8216;[mum] &amp; dad&#8217;), see&#8230;</p>\n\n<p>Hello {&#8216;(mum) &amp; dad&#8217;}, see&#8230;</p>\n\n<p>[&#8216;Well, well (well)&#8217;] &#8230;</p>\n"
  }, 
  "Paragraphs with alignment": {
    "input": "p<. Left-aligned paragraph.\n\np>. Right-aligned paragraph.\n\np<>. Forasmuch as many have taken in hand to set forth in order a declaration of those things which are most surely believed among us, even as they delivered them unto us, which from the beginning were eyewitnesses, and ministers of the word; it seemed good to me also, having had perfect understanding of all things from the very first, to write unto thee in order, most excellent Theophilus, that thou mightest know the certainty of those things, wherein thou hast been instructed.\n\np=. Centered paragraph.\n\np&lt;. Left-aligned too.\n\np&gt;. Right-aligned too.\n\np&lt;&gt;. Justified too.\n", 
    "expect": "<p style=\"text-align:left;\">Left-aligned paragraph.</p>\n\n<p style=\"text-align:right;\">Right-aligned paragraph.</p>\n\n<p style=\"text-align:justify;\">Forasmuch as many have taken in hand to set forth in order a declaration of those things which are most surely believed among us, even as they delivered them unto us, which from the beginning were eyewitnesses, and ministers of the word; it seemed good to me also, having had perfect understanding of all things from the very first, to write unto thee in order, most excellent Theophilus, that thou mightest know the certainty of those things, wherein thou hast been instructed.</p>\n\n<p style=\"text-align:center;\">Centered paragraph.</p>\n\n<p style=\"text-align:left;\">Left-aligned too.</p>\n\n<p style=\"text-align:right;\">Right-aligned too.</p>\n\n<p style=\"text-align:justify;\">Justified too.</p>\n"
  }, 
  "Issue 61... Spans in tables": {
    "input": "|_. Super |_. Fly |_. Table |\n| first | ICL | 3 |\n| second | IBM | 4 |\n| third |  Ordinary  | 5 |\n| fourth | Foreign EXP\u00d3\u0145\u00c9NTIAL | 6 |\n", 
    "expect": "<table>\n<tr>\n<th>Super </th>\n<th>Fly </th>\n<th>Table </th>\n</tr>\n<tr>\n<td> first </td>\n<td> <span class=\"caps\">ICL</span> </td>\n<td> 3 </td>\n</tr>\n<tr>\n<td> second </td>\n<td> <span class=\"caps\">IBM</span> </td>\n<td> 4 </td>\n</tr>\n<tr>\n<td> third </td>\n<td>  Ordinary  </td>\n<td> 5 </td>\n</tr>\n<tr>\n<td> fourth </td>\n<td> Foreign <span class=\"caps\">EXP\u00d3\u0145\u00c9NTIAL</span> </td>\n<td> 6 </td>\n</tr>\n</table>\n"
  }, 
  "Issue 71 - Emphasis": {
    "input": "_Newsweek_'s a problem.\n\n\"_Newsweek_'s a problem.\"\n\n\"_Newsweek_'s a problem.\"\n\n\"_Newsweek_'s\" a problem.\n\n*Newsweek*'s a problem.\n\n\"*Newsweek*'s a problem.\"\n\n\"*Newsweek*'s a problem.\"\n\n\"*Newsweek*'s\" a problem.\n\n\"*Newsweek*'s\"\na problem.\n\n-Newsweek-'s a problem.\n", 
    "notes": "Tests conversion to apostrophe-s at the end of block modifiers. http://code.google.com/p/textpattern/issues/detail?id=71\n", 
    "expect": "<p><em>Newsweek</em>&#8217;s a problem.</p>\n\n<p>&#8220;<em>Newsweek</em>&#8217;s a problem.&#8221;</p>\n\n<p>&#8220;<em>Newsweek</em>&#8217;s a problem.&#8221;</p>\n\n<p>&#8220;<em>Newsweek</em>&#8217;s&#8221; a problem.</p>\n\n<p><strong>Newsweek</strong>&#8217;s a problem.</p>\n\n<p>&#8220;<strong>Newsweek</strong>&#8217;s a problem.&#8221;</p>\n\n<p>&#8220;<strong>Newsweek</strong>&#8217;s a problem.&#8221;</p>\n\n<p>&#8220;<strong>Newsweek</strong>&#8217;s&#8221; a problem.</p>\n\n<p>&#8220;<strong>Newsweek</strong>&#8217;s&#8221;<br />\na problem.</p>\n\n<p><del>Newsweek</del>&#8217;s a problem.</p>\n"
  }, 
  "Self-Hyperlink": {
    "input": "Relative link to \"$\":testit.php?testfilename=textile/basic.\n\nRelative link to \"$\":/testit.php?testfilename=textile/basic.\n\nSend spam to \"$\":mailto://blackhole@sun.comet please!\n\nAn auto-hyperlink to \"$\":http://mojomojo.org/documentation/textile_vs_markdown#Textile2_vs._MultiMarkdown is -not- possible.\n\nAn auto-hyperlink (with title) to \"$(Comparison of Textile2 and Markdown)\":http://mojomojo.org/documentation/textile_vs_markdown#Textile2_vs._MultiMarkdown is -not- possible.\n\nAn auto-hyperlink (with atts) to \"(class#id)[en-au]$(Comparison of Textile2 and Markdown)\":http://mojomojo.org/documentation/textile_vs_markdown#Textile2_vs._MultiMarkdown is -not- possible.\n", 
    "notes": "A new feature.", 
    "expect": "<p>Relative link to <a href=\"testit.php?testfilename=textile/basic\">testit.php?testfilename=textile/basic</a>.</p>\n\n<p>Relative link to <a href=\"/testit.php?testfilename=textile/basic\">/testit.php?testfilename=textile/basic</a>.</p>\n\n<p>Send spam to <a href=\"mailto://blackhole@sun.comet\">blackhole@sun.comet</a> please!</p>\n\n<p>An auto-hyperlink to <a href=\"http://mojomojo.org/documentation/textile_vs_markdown#Textile2_vs._MultiMarkdown\">mojomojo.org/documentation/textile_vs_markdown#Textile2_vs._MultiMarkdown</a> is <del>not</del> possible.</p>\n\n<p>An auto-hyperlink (with title) to <a href=\"http://mojomojo.org/documentation/textile_vs_markdown#Textile2_vs._MultiMarkdown\" title=\"Comparison of Textile2 and Markdown\">mojomojo.org/documentation/textile_vs_markdown#Textile2_vs._MultiMarkdown</a> is <del>not</del> possible.</p>\n\n<p>An auto-hyperlink (with atts) to <a class=\"class\" href=\"http://mojomojo.org/documentation/textile_vs_markdown#Textile2_vs._MultiMarkdown\" id=\"id\" lang=\"en-au\" title=\"Comparison of Textile2 and Markdown\">mojomojo.org/documentation/textile_vs_markdown#Textile2_vs._MultiMarkdown</a> is <del>not</del> possible.</p>\n"
  }, 
  "HTML Comments": {
    "input": "Here is some text with a <!-- Commented out[1] --> block.\n\n<!-- Here is a single <span>line</span> comment block -->\n\n<!-- Here is a whole\nmultiline\n<span>HTML</span>\nComment\n-->\n\nbc. <!-- Here is a comment block in a code block. -->\n", 
    "expect": "<p>Here is some text with a <!-- Commented out[1] --> block.</p>\n\n<p><!-- Here is a single <span>line</span> comment block --></p>\n\n<p><!-- Here is a whole\nmultiline\n<span>HTML</span>\nComment\n--></p>\n\n<pre><code>&lt;!-- Here is a comment block in a code block. --&gt;\n</code></pre>\n"
  }, 
  "Basic Unordered lists": {
    "input": "h3. How about some unordered goodness?\n\n*(class) Bullet\n* List\n* Here\n** With\n** Subs\n* and regulars\n\n_colours_\n\n* yellow\n* cyan\n", 
    "expect": "<h3>How about some unordered goodness?</h3>\n\n<ul class=\"class\">\n<li>Bullet</li>\n<li>List</li>\n<li>Here\n<ul>\n<li>With</li>\n<li>Subs</li>\n</ul></li>\n<li>and regulars</li>\n</ul>\n\n<p><em>colours</em></p>\n\n<ul>\n<li>yellow</li>\n<li>cyan</li>\n</ul>\n"
  }, 
  "Links with quoted text": {
    "input": "\"How free markets 'address' health care(title)\":http://krugman.blogs.nytimes.com/2009/07/25/why-markets-cant-cure-healthcare/\n\n\"How free markets &quot;address&quot; health care(title)\":http://krugman.blogs.nytimes.com/2009/07/25/why-markets-cant-cure-healthcare/\n", 
    "notes": "Single quotes link text are fine, but double quotes break the link. Use &quot; in this case.\n", 
    "expect": "<p><a href=\"http://krugman.blogs.nytimes.com/2009/07/25/why-markets-cant-cure-healthcare/\" title=\"title\">How free markets &#8216;address&#8217; health care</a></p>\n\n<p><a href=\"http://krugman.blogs.nytimes.com/2009/07/25/why-markets-cant-cure-healthcare/\" title=\"title\">How free markets &quot;address&quot; health care</a></p>\n"
  }, 
  "Tables with styles": {
    "input": "table(#dvds){border-collapse:collapse}. Great films on DVD employing Textile summary, caption, thead, tfoot, two tbody elements and colgroups\n|={font-size:140%;margin-bottom:15px}. DVDs with two Textiled tbody elements\n|:\\3. 100 |{background:#ddd}|250||50|300|\n|^(header).\n|_. Title |_. Starring |_. Director |_. Writer |_. Notes |\n|~(footer).\n|\\5=. This is the tfoot, centred |\n|-(toplist){background:#c5f7f6}.\n| _The Usual Suspects_ | Benicio Del Toro, Gabriel Byrne, Stephen Baldwin, Kevin Spacey | Bryan Singer | Chris McQaurrie | One of the finest films ever made |\n| _Se7en_ | Morgan Freeman, Brad Pitt, Kevin Spacey | David Fincher | Andrew Kevin Walker | Great psychological thriller |\n| _Primer_ | David Sullivan, Shane Carruth | Shane Carruth | Shane Carruth | Amazing insight into trust and human psychology <br />rather than science fiction. Terrific! |\n| _District 9_ | Sharlto Copley, Jason Cope | Neill Blomkamp | Neill Blomkamp, Terri Tatchell | Social commentary layered on thick,\nbut boy is it done well |\n|-(medlist){background:#e7e895;}.\n| _Arlington Road_ | Tim Robbins, Jeff Bridges | Mark Pellington | Ehren Kruger | Awesome study in neighbourly relations |\n| _Phone Booth_ | Colin Farrell, Kiefer Sutherland, Forest Whitaker | Joel Schumacher | Larry Cohen | Edge-of-the-seat stuff in this\nshort but brilliantly executed thriller |\n", 
    "expect": "<table id=\"dvds\" style=\"border-collapse:collapse;\" summary=\"Great films on DVD employing Textile summary, caption, thead, tfoot, two tbody elements and colgroups\">\n<caption style=\"font-size:140%;margin-bottom:15px;\"><span class=\"caps\">DVD</span>s with two Textiled tbody elements</caption>\n<colgroup span=\"3\" width=\"100\">\n<col style=\"background:#ddd;\" />\n<col width=\"250\" />\n<col />\n<col width=\"50\" />\n<col width=\"300\" />\n</colgroup>\n<thead class=\"header\">\n<tr>\n<th>Title </th>\n<th>Starring </th>\n<th>Director </th>\n<th>Writer </th>\n<th>Notes </th>\n</tr>\n</thead>\n<tfoot class=\"footer\">\n<tr>\n<td colspan=\"5\" style=\"text-align:center;\">This is the tfoot, centred </td>\n</tr>\n</tfoot>\n<tbody class=\"toplist\" style=\"background:#c5f7f6;\">\n<tr>\n<td> <em>The Usual Suspects</em> </td>\n<td> Benicio Del Toro, Gabriel Byrne, Stephen Baldwin, Kevin Spacey </td>\n<td> Bryan Singer </td>\n<td> Chris McQaurrie </td>\n<td> One of the finest films ever made </td>\n</tr>\n<tr>\n<td> <em>Se7en</em> </td>\n<td> Morgan Freeman, Brad Pitt, Kevin Spacey </td>\n<td> David Fincher </td>\n<td> Andrew Kevin Walker </td>\n<td> Great psychological thriller </td>\n</tr>\n<tr>\n<td> <em>Primer</em> </td>\n<td> David Sullivan, Shane Carruth </td>\n<td> Shane Carruth </td>\n<td> Shane Carruth </td>\n<td> Amazing insight into trust and human psychology <br />\nrather than science fiction. Terrific! </td>\n</tr>\n<tr>\n<td> <em>District 9</em> </td>\n<td> Sharlto Copley, Jason Cope </td>\n<td> Neill Blomkamp </td>\n<td> Neill Blomkamp, Terri Tatchell </td>\n<td> Social commentary layered on thick,<br />\nbut boy is it done well </td>\n</tr>\n</tbody>\n<tbody class=\"medlist\" style=\"background:#e7e895;\">\n<tr>\n<td> <em>Arlington Road</em> </td>\n<td> Tim Robbins, Jeff Bridges </td>\n<td> Mark Pellington </td>\n<td> Ehren Kruger </td>\n<td> Awesome study in neighbourly relations </td>\n</tr>\n<tr>\n<td> <em>Phone Booth</em> </td>\n<td> Colin Farrell, Kiefer Sutherland, Forest Whitaker </td>\n<td> Joel Schumacher </td>\n<td> Larry Cohen </td>\n<td> Edge-of-the-seat stuff in this<br />\nshort but brilliantly executed thriller </td>\n</tr>\n</tbody>\n</table>\n"
  }, 
  "In-line citations": {
    "input": "A ??(myclass#myid4){color:green}[de-de]complex?? phrase.\n", 
    "expect": "<p>A <cite class=\"myclass\" id=\"myid4\" lang=\"de-de\" style=\"color:green;\">complex</cite> phrase.</p>\n"
  }, 
  "Basic Ordered List": {
    "input": "# Ordered\n# List\n# Live\n## Including\nsome newline\n## And underlings\n# ... aaaaand back out\n\np. And here we are with some _(alt)Other colours_\n\n# red\n## greeny\nbrowny\npinkish\n## black\n# blue\n", 
    "expect": "<ol>\n<li>Ordered</li>\n<li>List</li>\n<li>Live\n<ol>\n<li>Including<br />\nsome newline</li>\n<li>And underlings</li>\n</ol></li>\n<li>&#8230; aaaaand back out</li>\n</ol>\n\n<p>And here we are with some <em class=\"alt\">Other colours</em></p>\n\n<ol>\n<li>red\n<ol>\n<li>greeny<br />\nbrowny<br />\npinkish</li>\n<li>black</li>\n</ol></li>\n<li>blue</li>\n</ol>\n"
  }, 
  "Simple Definition lists": {
    "input": ";(class#id) Term 1\n: Def 1\n: Def 2\n: Def 3\n", 
    "expect": "<dl class=\"class\" id=\"id\">\n<dt>Term 1</dt>\n<dd>Def 1</dd>\n<dd>Def 2</dd>\n<dd>Def 3</dd>\n</dl>\n"
  }, 
  "Issue 50 Bust-a-quotes": {
    "special": "skip", 
    "input": "\"<span lang=\"en\">test</span>\"\n", 
    "notes": "This is issue 50 in the code tracker. However, I don't think this is valid textile as it's a mix of XHTML and textile smartquotes. If this is fully XHMTL, character entities should be used at the start and end of the string. If it's textile, then it should be \"%[en]test%\" or %[en]\"test\"%.\n", 
    "expect": "<p>&#8220;<span lang=\"en\">test</span>&#8221;</p>\n"
  }, 
  "Code blocks, pre and exclusions": {
    "input": "bc(input). You can't _*touch*_ *_this_*... Hammer time.\n\nAnd keep your @(expect)mitts _*off*_ *_me_*@ as well. About the @<hr />@ tag.\n\nbc(block).. As for the stuff in my *bold*, _emphasised_ & __italic__ codeblock, I think you'll find these tags entertaining:\n<txp:linklist />\n<txp:image_list category=\"squid\">\n<txp:image class=\"prawns\" something=\"summat else\" />\n<br />\n<txp:image_info type=\"caption\" />\n</txp:category>\n\np(regular#somestuff). _Aaaand_, *__relax__*.\n", 
    "expect": "<pre class=\"input\"><code>You can&#39;t _*touch*_ *_this_*... Hammer time.\n</code></pre>\n\n<p>And keep your <code>(expect)mitts _*off*_ *_me_*</code> as well. About the <code>&lt;hr /&gt;</code> tag.</p>\n\n<pre class=\"block\"><code>As for the stuff in my *bold*, _emphasised_ &amp; __italic__ codeblock, I think you&#39;ll find these tags entertaining:\n&lt;txp:linklist /&gt;\n&lt;txp:image_list category=&quot;squid&quot;&gt;\n&lt;txp:image class=&quot;prawns&quot; something=&quot;summat else&quot; /&gt;\n&lt;br /&gt;\n&lt;txp:image_info type=&quot;caption&quot; /&gt;\n&lt;/txp:category&gt;\n</code></pre>\n\n<p class=\"regular\" id=\"somestuff\"><em>Aaaand</em>, <strong><i>relax</i></strong>.</p>\n"
  }, 
  "Issue 72 - spans around foreign chars": {
    "input": "*W sk\u0142ad zestawu wchodz\u0105*:\n\n*W sk\u0142ad zestawu wchodz\u0105*:\n", 
    "expect": "<p><strong>W sk\u0142ad zestawu wchodz\u0105</strong>:</p>\n\n<p><strong>W sk\u0142ad zestawu wchodz\u0105</strong>:</p>\n"
  }, 
  "Mixed HTML & Textile": {
    "input": "<p>*foo*</p>\n\n<p>*foo*[^2^]</p>\n", 
    "expect": "<p><strong>foo</strong></p>\n\n<p><strong>foo</strong><sup>2</sup></p>\n"
  }, 
  "Make sure these don't get turned into lists...": {
    "input": "*Here is a comment*\n\nHere is *(class)a comment*\n\n*(class)Here is a class* that is a little extended and is\n*followed* by a strong word!\n\nbc. ; Content-type: text/javascript\n; Cache-Control: no-store, no-cache, must-revalidate, pre-check=0, post-check=0, max-age=0\n; Expires: Sat, 24 Jul 2003 05:00:00 GMT\n; Last-Modified: Wed, 1 Jan 2025 05:00:00 GMT\n; Pragma: no-cache\n\n*123 test*\n\n*test 123*\n\n**123 test**\n\n**test 123**\n", 
    "expect": "<p><strong>Here is a comment</strong></p>\n\n<p>Here is <strong class=\"class\">a comment</strong></p>\n\n<p><strong class=\"class\">Here is a class</strong> that is a little extended and is<br />\n<strong>followed</strong> by a strong word!</p>\n\n<pre><code>; Content-type: text/javascript\n; Cache-Control: no-store, no-cache, must-revalidate, pre-check=0, post-check=0, max-age=0\n; Expires: Sat, 24 Jul 2003 05:00:00 GMT\n; Last-Modified: Wed, 1 Jan 2025 05:00:00 GMT\n; Pragma: no-cache\n</code></pre>\n\n<p><strong>123 test</strong></p>\n\n<p><strong>test 123</strong></p>\n\n<p><b>123 test</b></p>\n\n<p><b>test 123</b></p>\n"
  }, 
  "Ordered Lists": {
    "input": "#_(first#list) one\n# two\n# three\n\ntest\n\n#(ordered#list2).\n# one\n# two\n# three\n\ntest\n\n#_(class_4).\n# four\n# five\n# six\n\ntest\n\n#_ seven\n# eight\n# nine\n\ntest\n\n# one\n# two\n# three\n\ntest\n\n#22 22\n# 23\n# 24\n", 
    "expect": "<ol class=\"first\" id=\"list\" start=\"1\">\n    <li>one</li>\n    <li>two</li>\n    <li>three</li>\n</ol>\n\n<p>test</p>\n\n<ol class=\"ordered\" id=\"list2\">\n    <li>one</li>\n    <li>two</li>\n    <li>three</li>\n</ol>\n\n<p>test</p>\n\n<ol class=\"class_4\" start=\"4\">\n    <li>four</li>\n    <li>five</li>\n    <li>six</li>\n</ol>\n\n<p>test</p>\n\n<ol start=\"7\">\n    <li>seven</li>\n    <li>eight</li>\n    <li>nine</li>\n</ol>\n\n<p>test</p>\n\n<ol>\n    <li>one</li>\n    <li>two</li>\n    <li>three</li>\n</ol>\n\n<p>test</p>\n\n<ol start=\"22\">\n    <li>22</li>\n    <li>23</li>\n    <li>24</li>\n</ol>\n"
  }, 
  "Foreign character and quote support": {
    "input": "Ou est l'\u00e9cole, l'\u00e9glise s'il vous pl\u00e2it?\n\nI like l'entr\u00e9es. Do you?\n\n\u00abBonjour!\u00bb ecris Christophe. \u00abEst-ce-que tu un petit caf\u00e9\u00bb, he asked somewhat confusingly.\n\nS\u00c6LGES d'\u00eatre\n", 
    "expect": "<p>Ou est l&#8217;\u00e9cole, l&#8217;\u00e9glise s&#8217;il vous pl\u00e2it?</p>\n\n<p>I like l&#8217;entr\u00e9es. Do you?</p>\n\n<p>\u00abBonjour!\u00bb ecris Christophe. \u00abEst-ce-que tu un petit caf\u00e9\u00bb, he asked somewhat confusingly.</p>\n\n<p><span class=\"caps\">S\u00c6LGES</span> d&#8217;\u00eatre</p>\n"
  }, 
  "Backlinked footref to footnote": {
    "special": "strip_rand",
    "input": "See[4!] for details.\n\nfn4^. Here are the details.\n", 
    "notes": "Uses the '!' modifier on the footref to turn off linking to the footnote\nUses the '^' modifier on the footnote to turn on reverse linking to the *first* use of the corresponding reference\nThe textile tester removes the random ID from the text returned by textile in this test. This allows the rest of the output to be tested.\n", 
    "expect": "<p>See<sup class=\"footnote\" id=\"fnrev\">4</sup> for details.</p>\n\n<p class=\"footnote\" id=\"fn\"><sup><a href=\"#fnrev\">4</a></sup> Here are the details.</p>\n"
  }, 
  "New tables": {
    "input": "|=(#captionola). My boombastic table caption. It must appear before the first thead/row\n|^.\n|_. thead-wrapped |_. column |\n|~(footjob).\n| tfoot-wrapped | column |\n|-.\n| tbody-wrapped | column |\n| some more | columny goodness |\n(colourful). | yet more | colourful rows |\n| nothing much | here |\n|-(nursery#rhyme).\n| if we go down |=. to the woods today |\n| we're sure of a | big surprise |\n", 
    "expect": "<table>\n<caption id=\"captionola\">My boombastic table caption. It must appear before the first thead/row</caption>\n<thead>\n<tr>\n<th>thead-wrapped </th>\n<th>column </th>\n</tr>\n</thead>\n<tfoot class=\"footjob\">\n<tr>\n<td> tfoot-wrapped </td>\n<td> column </td>\n</tr>\n</tfoot>\n<tbody>\n<tr>\n<td> tbody-wrapped </td>\n<td> column </td>\n</tr>\n<tr>\n<td> some more </td>\n<td> columny goodness </td>\n</tr>\n<tr class=\"colourful\">\n<td> yet more </td>\n<td> colourful rows </td>\n</tr>\n<tr>\n<td> nothing much </td>\n<td> here </td>\n</tr>\n</tbody>\n<tbody class=\"nursery\" id=\"rhyme\">\n<tr>\n<td> if we go down </td>\n<td style=\"text-align:center;\">to the woods today </td>\n</tr>\n<tr>\n<td> we&#8217;re sure of a </td>\n<td> big surprise </td>\n</tr>\n</tbody>\n</table>\n"
  }, 
  "Multi-level ordered list with continuation": {
    "input": "# one\n##3 one.three\n## one.four\n## one.five\n# two\n\ntest\n\n#_(continuation#section2).\n# three\n# four\n##_ four.six\n## four.seven\n# five\n\ntest\n\n#21 twenty-one\n# twenty-two\n", 
    "expect": "<ol>\n<li>one\n<ol start=\"3\">\n<li>one.three</li>\n<li>one.four</li>\n<li>one.five</li>\n</ol></li>\n<li>two</li>\n</ol>\n\n<p>test</p>\n\n<ol class=\"continuation\" id=\"section2\" start=\"3\">\n<li>three</li>\n<li>four\n<ol start=\"6\">\n<li>four.six</li>\n<li>four.seven</li>\n</ol></li>\n<li>five</li>\n</ol>\n\n<p>test</p>\n\n<ol start=\"21\">\n<li>twenty-one</li>\n<li>twenty-two</li>\n</ol>\n"
  }, 
  "1-line blockquote": {
    "input": "bq. Don't suck the brown stuff off of 2 pence coins; it ain't chocolate.\n", 
    "expect": "<blockquote>\n<p>Don&#8217;t suck the brown stuff off of 2 pence coins; it ain&#8217;t chocolate.</p>\n</blockquote>\n"
  }, 
  "Unlinked Note References with backlinked and unreferenced defs.": {
    "special": "strip_rand",
    "input": "Scientists say[#lavader!] the moon is quite small. But I, for one, don't believe them. Others claim it to be made of cheese[#aardman!]. If this proves true I suspect we are in for troubled times[#apollo13!] as people argue over their \"share\" of the moon's cheese. In the end, its limited size[#lavader!] may prove problematic.\n\nnote#unused. An unreferenced note.\n\nnote#lavader^. \"Proof of the small moon hypothesis\":http://antwrp.gsfc.nasa.gov/apod/ap080801.html. Copyright(c) Laurent Laveder\n\nnote#aardman^. \"Proof of a cheese moon\":http://www.imdb.com/title/tt0104361\n\nnote#apollo13^. After all, things do go \"wrong\":http://en.wikipedia.org/wiki/Apollo_13#The_oxygen_tank_incident.\n\nnotelist{padding:1em;margin:1em;border-bottom:1px solid gray}:\u03b1!+.\n", 
    "expect": "<p>Scientists say<sup><span id=\"noteref\">1</span></sup> the moon is quite small. But I, for one, don&#8217;t believe them. Others claim it to be made of cheese<sup><span id=\"noteref\">2</span></sup>. If this proves true I suspect we are in for troubled times<sup><span id=\"noteref\">3</span></sup> as people argue over their &#8220;share&#8221; of the moon&#8217;s cheese. In the end, its limited size<sup><span id=\"noteref\">1</span></sup> may prove problematic.</p>\n\n<ol style=\"border-bottom:1px solid gray;margin:1em;padding:1em;\">\n<li><sup><a href=\"#noteref\">\u03b1</a></sup><span id=\"note\"> </span><a href=\"http://antwrp.gsfc.nasa.gov/apod/ap080801.html\">Proof of the small moon hypothesis</a>. Copyright&#169; Laurent Laveder</li>\n<li><sup><a href=\"#noteref\">\u03b1</a></sup><span id=\"note\"> </span><a href=\"http://www.imdb.com/title/tt0104361\">Proof of a cheese moon</a></li>\n<li><sup><a href=\"#noteref\">\u03b1</a></sup><span id=\"note\"> </span>After all, things do go <a href=\"http://en.wikipedia.org/wiki/Apollo_13#The_oxygen_tank_incident\">wrong</a>.</li>\n<li>An unreferenced note.</li>\n</ol>\n"
  }, 
  "Link in quotes.": {
    "input": "\"Here's a \"(class#id)link(with a title)\":http://cnn.com?a=b&c=d#end_of_page.\"\n", 
    "expect": "<p>&#8220;Here&#8217;s a <a class=\"class\" href=\"http://cnn.com?a=b&amp;c=d#end_of_page\" id=\"id\" title=\"with a title\">link</a>.&#8221;</p>\n"
  }, 
  "Some redding": {
    "input": "h2{color:red}. Some redding\n", 
    "expect": "<h2 style=\"color:red;\">Some redding</h2>\n"
  }, 
  "Links from already encoded URL": {
    "input": "French \"Cheeses\":https://en.wikipedia.org/wiki/Appellation_d%27Origine_Contr%C3%B4l%C3%A9e\n", 
    "expect": "<p>French <a href=\"https://en.wikipedia.org/wiki/Appellation_d%27Origine_Contr%C3%B4l%C3%A9e\">Cheeses</a></p>\n"
  }, 
  "Single quotes enclosing italic apostrophes": {
    "input": "'__Here__'s a quote!'\n\n'__Here__'s\na quote!'\n", 
    "expect": "<p>&#8216;<i>Here</i>&#8217;s a quote!&#8217;</p>\n\n<p>&#8216;<i>Here</i>&#8217;s<br />\na quote!&#8217;</p>\n"
  }, 
  "Redcloth Definition list": {
    "input": "-(hot) *coffee* := Hot _and_ black\n-(hot#tea) tea := Also hot, but a little less black\n-(cold) milk := Nourishing beverage for baby cows.\nCold drink that goes great with cookies. =:\n\n-(hot) coffee := Hot and black\n-(hot#tea) tea := Also hot, but a little less black\n-(cold) milk := \nNourishing beverage for baby cows.\nCold drink that goes great with cookies. =:\n\n- term := you can have line breaks\njust like other lists\n- line-spanning\nterm := hey, slick!\n\nYou can have multiple terms before a definition:\n\n- textile\n- fabric\n- cloth := woven threads\n", 
    "expect": "<dl>\n<dt class=\"hot\"><strong>coffee</strong></dt>\n<dd>Hot <em>and</em> black</dd>\n<dt class=\"hot\" id=\"tea\">tea</dt>\n<dd>Also hot, but a little less black</dd>\n<dt class=\"cold\">milk</dt>\n<dd>Nourishing beverage for baby cows.<br />\nCold drink that goes great with cookies.</dd>\n</dl>\n\n<dl>\n<dt class=\"hot\">coffee</dt>\n<dd>Hot and black</dd>\n<dt class=\"hot\" id=\"tea\">tea</dt>\n<dd>Also hot, but a little less black</dd>\n<dt class=\"cold\">milk</dt>\n<dd><p>Nourishing beverage for baby cows.<br />\nCold drink that goes great with cookies.</p></dd>\n</dl>\n\n<dl>\n<dt>term</dt>\n<dd>you can have line breaks<br />\njust like other lists</dd>\n<dt>line-spanning<br />\nterm</dt>\n<dd>hey, slick!</dd>\n</dl>\n\n<p>You can have multiple terms before a definition:</p>\n\n<dl>\n<dt>textile</dt>\n<dt>fabric</dt>\n<dt>cloth</dt>\n<dd>woven threads</dd>\n</dl>\n"
  }, 
  "Smileys still smileys?": {
    "input": ":(\n\n:)\n\n:(\n:(\n:(\n:)\n\nPinocchio!\n:^)\n\nBaboon!\n:=)\n\nWink!\n;)\n\n:[\n:]\n\n;(\nsomething\ndark side\n:)\n\n;(c)[de] Item\n", 
    "notes": "Make sure smileys don't get recognised as a definition list.", 
    "expect": "<p>:(</p>\n\n<p>:)</p>\n\n<p>:(<br />\n:(<br />\n:(<br />\n:)</p>\n\n<p>Pinocchio!<br />\n:^)</p>\n\n<p>Baboon!<br />\n:=)</p>\n\n<p>Wink!<br />\n;)</p>\n\n<p>:[<br />\n:]</p>\n\n<p>;(<br />\nsomething<br />\ndark side<br />\n:)</p>\n\n<dl class=\"c\" lang=\"de\">\n<dt>Item</dt>\n</dl>\n"
  }, 
  "Mixed lists": {
    "input": "* bullet\n*# number\n*# number\n*#* bullet\n*# number\n*# number with\na break\n* bullet\n** okay\n", 
    "expect": "<ul>\n<li>bullet\n<ol>\n<li>number</li>\n<li>number\n<ul>\n<li>bullet</li>\n</ul></li>\n<li>number</li>\n<li>number with<br />\na break</li>\n</ol></li>\n<li>bullet\n<ul>\n<li>okay</li>\n</ul></li>\n</ul>\n"
  }, 
  "URI-Schemes": {
    "input": "\"link with no scheme\":textileit.com\n\n\"link with http\":http://textileit.com\n\n\"link with https\":https://textileit.com\n\n\"link with ftp\":ftp://textileit.com\n\n\"link with ftp alias\":uri-alias4\n\n\"link with sftp\":sftp://foobar@textileit.com\n\n\"$\":sftp://foobar@textileit.com\n\nFind it \"here\":http://github.com/netcarver/some+thing+completely+different on github.\n\n\"link with sftp alias\":uri-alias3\n\n\"link with file1\":file://host.example.com/folder/file.ext\n\n\"$\":file://host.example.com/folder/file.ext\n\n\"link with file2\":file:///c:/folder/file.ext\n\n\"link with file alias\":uri-alias2\n\n\"$\":file:///c:/folder/file.ext\n\n\"link with tel\":tel:123123123123123123-123\n\n\"$\":tel:123123123123123123-123\n\n\"int tel\":uri-alias1\n\n\"link with mailto\":mailto:contact+alt@textileit.com\n\n\"link with mailto alias\":uri-alias6\n\n\"link with callto\":callto:textileit.com\n\n\"link with callto alias\":uri-alias5\n\n\"$\":callto:textileit.com\n[uri-alias1]tel:+123-(0)-123123123-123\n[uri-alias2]file:///c:/folder/file.ext\n[uri-alias3]sftp://foo@bar.net\n[uri-alias4]ftp://foo@bar.net\n[uri-alias5]callto:textileit.com\n[uri-alias6]mailto:contact@textileit.com\n", 
    "expect": "<p><a href=\"textileit.com\">link with no scheme</a></p>\n\n<p><a href=\"http://textileit.com\">link with http</a></p>\n\n<p><a href=\"https://textileit.com\">link with https</a></p>\n\n<p><a href=\"ftp://textileit.com\">link with ftp</a></p>\n\n<p><a href=\"ftp://foo@bar.net\">link with ftp alias</a></p>\n\n<p><a href=\"sftp://foobar@textileit.com\">link with sftp</a></p>\n\n<p><a href=\"sftp://foobar@textileit.com\">foobar@textileit.com</a></p>\n\n<p>Find it <a href=\"http://github.com/netcarver/some+thing+completely+different\">here</a> on github.</p>\n\n<p><a href=\"sftp://foo@bar.net\">link with sftp alias</a></p>\n\n<p><a href=\"file://host.example.com/folder/file.ext\">link with file1</a></p>\n\n<p><a href=\"file://host.example.com/folder/file.ext\">host.example.com/folder/file.ext</a></p>\n\n<p><a href=\"file:/c%3A/folder/file.ext\">link with file2</a></p>\n\n<p><a href=\"file:/c%3A/folder/file.ext\">link with file alias</a></p>\n\n<p><a href=\"file:/c%3A/folder/file.ext\">c:/folder/file.ext</a></p>\n\n<p><a href=\"tel:123123123123123123-123\">link with tel</a></p>\n\n<p><a href=\"tel:123123123123123123-123\">123123123123123123-123</a></p>\n\n<p><a href=\"tel:%2B123-%280%29-123123123-123\">int tel</a></p>\n\n<p><a href=\"mailto:contact%2Balt@textileit.com\">link with mailto</a></p>\n\n<p><a href=\"mailto:contact@textileit.com\">link with mailto alias</a></p>\n\n<p><a href=\"callto:textileit.com\">link with callto</a></p>\n\n<p><a href=\"callto:textileit.com\">link with callto alias</a></p>\n\n<p><a href=\"callto:textileit.com\">textileit.com</a></p>\n"
  }, 
  "Classes/ids/langs on phrase modifiers": {
    "input": "~(c#id)[en]My text~\n\n%(c#id)[En]My text%\n\n^(c#id)[EN]My text^\n\n??(c#id)[en-gb]My text??\n\n*(c#id)[en-GB]My text*\n\n**(c#id)[en-Gb]My text**\n\n-(c#id)[ENG]My text-\n\n+(c#id)[eng]My text+\n\n_(c#id)[kjwwef89]My text_\n\n__(c#id)[12]My text__\n\n@(c#id)[Whatever]My text@\n", 
    "expect": "<p><sub class=\"c\" id=\"id\" lang=\"en\">My text</sub></p>\n\n<p><span class=\"c\" id=\"id\" lang=\"En\">My text</span></p>\n\n<p><sup class=\"c\" id=\"id\" lang=\"EN\">My text</sup></p>\n\n<p><cite class=\"c\" id=\"id\" lang=\"en-gb\">My text</cite></p>\n\n<p><strong class=\"c\" id=\"id\" lang=\"en-GB\">My text</strong></p>\n\n<p><b class=\"c\" id=\"id\" lang=\"en-Gb\">My text</b></p>\n\n<p><del class=\"c\" id=\"id\">My text</del></p>\n\n<p><ins class=\"c\" id=\"id\">My text</ins></p>\n\n<p><em class=\"c\" id=\"id\">My text</em></p>\n\n<p><i class=\"c\" id=\"id\">My text</i></p>\n\n<p><code>(c#id)[Whatever]My text</code></p>\n"
  },
  "Classes and IDs": {
    "input": "p(c). Valid class\n\np(#id). Valid ID\n\np(c#id). Valid class and ID\n\np(c9). Valid class\n\np(c4.2). Valid class\n\np(c1 c.2 c-3). Valid class\n", 
    "expect": "<p class=\"c\">Valid class</p>\n\n<p id=\"id\">Valid ID</p>\n\n<p class=\"c\" id=\"id\">Valid class and ID</p>\n\n<p class=\"c9\">Valid class</p>\n\n<p class=\"c4.2\">Valid class</p>\n\n<p class=\"c1 c.2 c-3\">Valid class</p>\n"
  }, 
  "Embedded acronym inside acronym": {
    "input": "Tell me, what is AJAX(Asynchronous Javascript and XML), please?\n", 
    "expect": "<p>Tell me, what is <acronym title=\"Asynchronous Javascript and XML\"><span class=\"caps\">AJAX</span></acronym>, please?</p>\n"
  }
}